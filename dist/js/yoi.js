var YOI={elementCollection:{},action:{},behaviour:{},component:{},module:{},stringContains:function(input,searchString){return!(!input||!searchString)&&input.indexOf(searchString)>-1},zeroPad:function(num,digits){for(var num=Math.abs(num),digits=digits||1,i=1,leadingZeros="0";i<digits;)i++,leadingZeros+="0";return(leadingZeros+num).slice(-digits-1)},foundModule:function(module){return"object"==typeof window.YOI.module[module]},foundComponent:function(component){return"object"==typeof window.YOI.component[component]},setDelay:function(delayName,delayTime,delayFunction){this.clearDelay(delayName),window[delayName]=window.setTimeout(function(){delayFunction()},delayTime)},clearDelay:function(delayName){"number"==typeof window[delayName]&&(window.clearTimeout(window[delayName]),window[delayName]=void 0)},setInterval:function(intervalName,intervalTime,intervalFunction){this.clearInterval(intervalName),window[intervalName]=window.setInterval(function(){intervalFunction()},intervalTime)},clearInterval:function(intervalName){"number"==typeof window[intervalName]&&(window.clearInterval(window[intervalName]),window[intervalName]=void 0)},toObject:function(input){var keyValuePair,properObject={};if(YOI.stringContains(input,":")||YOI.stringContains(input,";")){var valueStartMarker,keyValuePairEndMarker;YOI.stringContains(input,"'")&&YOI.stringContains(input,";")?(valueStartMarker=":'",keyValuePairEndMarker="';"):(valueStartMarker=":",keyValuePairEndMarker=";"),input=(input||"").replace(/\s+/g," ").split(keyValuePairEndMarker);for(var i=0;i<input.length-1;i++)keyValuePair=input[i].split(valueStartMarker),1===keyValuePair.length?properObject.action=input[0]:2===keyValuePair.length&&(properObject[keyValuePair[0].trim()]=keyValuePair[1].trim());return properObject}return!1},toBoolean:function(input){if(!input)return!0;switch(input.toLowerCase()){case"false":case"no":case"0":case"":return!1;default:return!0}},getAttribute:function($element){var yoiAttributeValue;return $.each($element[0].attributes,function(index,attribute){if(attribute.name.match("^yoi-"))return yoiAttributeValue=attribute.value,!1}),yoiAttributeValue},hide:function($target){if(!($target instanceof jQuery))return!1;$target.hasClass("d-block")?$target.data("displayUtilityClass","d-block"):$target.hasClass("d-inline")?$target.data("displayUtilityClass","d-inline"):$target.hasClass("d-inlineblock")&&$target.data("displayUtilityClass","d-inlineblock"),$target.removeClass("d-block d-inline d-inlineblock"),$target.hide()},show:function($target){if(!($target instanceof jQuery))return!1;$target.data().hasOwnProperty("displayUtilityClass")?$target.addClass($target.data("displayUtilityClass")):$target.show()},isNumber:function(inputVal){var testVal,pattern=/^(0|([1-9]\d*))$/;return testVal="string"!=typeof inputVal?inputVal.toString():inputVal,pattern.test(testVal)},noFocus:function(){return"BODY"===document.activeElement.tagName},throttle:function(targetFunction,delay){var snapshot=Date.now();return function(){snapshot+delay-Date.now()<0&&(targetFunction(),snapshot=Date.now())}},validBreakpoint:function(keyword){var validBreakPoints=["small","medium","large","xlarge"];return $.inArray(keyword,validBreakPoints)>=0},environment:function(envName){var currentEnvironment=$("body").attr("yoi-environment")||"desktop";return envName?$("body").attr("yoi-environment")===envName:currentEnvironment},locale:function(language){var currentLanguage=$("html").attr("lang")||"en";return language?$("html").attr("lang")===language:currentLanguage},currentBreakPoint:function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/\"/g,"")},blink:function($elem,times){if(!($elem instanceof jQuery))return!1;var times=times||2;$elem.stop(!0,!0);for(var i=0;i<times;i++)$elem.animate({opacity:0},100).animate({opacity:1},100)},pulse:function($elem,times){if(!($elem instanceof jQuery))return!1;var times=times||2;$elem.stop(!0,!0);for(var i=0;i<times;i++)$elem.animate({opacity:.2},300).animate({opacity:1},300)},startDomObserver:function(){var $document=$(document),observer=window.MutationObserver||window.WebKitMutationObserver,target=document.body;YOI.observer=new observer(function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.length&&$document.trigger("yoi-dom-add"),mutation.removedNodes.length&&$document.trigger("yoi-dom-remove")})}),YOI.observer.observe(target,{subtree:!0,attributes:!0,childList:!0,characterData:!0})},stopDomObserver:function(){YOI.hasOwnProperty("observer")&&YOI.observer.disconnect()},updateOptions:function($element,options){if($element.data().hasOwnProperty("options")||($element.data().options={}),!options)var options=YOI.toObject(YOI.getAttribute($element));"object"==typeof options&&$.each(options,function(key,value){$element.data().options[key]=value})},updateProps:function($element,props){return $element.data().hasOwnProperty("props")||($element.data().props={}),"object"==typeof props&&$.each(props,function(key,value){$element.data().props[key]=value}),$element.data().props},updateState:function($element,state){return $element.data().hasOwnProperty("state")||($element.data().state=""),"string"==typeof state&&($element.data().state=state),$element.data().state},createCollection:function(identifier,$element,options,state,props){if(YOI.elementCollection[identifier]||(YOI.elementCollection[identifier]=$([])),$element instanceof jQuery)$element instanceof jQuery&&(YOI.updateOptions($element,options),YOI.updateState($element,state),YOI.updateProps($element,props),YOI.elementCollection[identifier]=YOI.elementCollection[identifier].add($element));else{if(YOI.elementCollection[identifier]=$("[yoi-"+identifier+"]"),!YOI.elementCollection[identifier].length)return!1;YOI.elementCollection[identifier].each(function(){var $this=$(this);YOI.updateOptions($this,options),YOI.updateState($this,state),YOI.updateProps($this,props)})}return YOI.elementCollection[identifier]},bindAction:function($element,hook){if($element.data().props.hasOwnProperty(hook))return!1;var params=YOI.toObject($element.attr(hook)),action=params.action||Object.keys(params)[0]||"",hostObject=action.split(".")[0]||!1,publicFunction=action.split(".")[1]||!1,event=params.on||"click",options={},$target=$(params[action]),$trigger=params.hasOwnProperty("trigger")?$(params.trigger):$element;switch(params[action]){case"self":$target=$element;break;case"parent":$target=$element.parent()}"object"==typeof params&&$.map(params,function(value,key){key!==action&&"on"!==key&&(options[key]=value)}),hostObject&&publicFunction&&"function"==typeof YOI.component[hostObject][publicFunction]&&$trigger.on(event,function(e){e.preventDefault(),YOI.component[hostObject][publicFunction]($target)}),"function"==typeof YOI.action[action]&&$trigger.on(event,function(e){e.preventDefault(),YOI.action[action]($trigger,$target,options)}),$element.data().props[hook]=!0},mapActions:function(){$("[yoi-action], [yoi-action-1], [yoi-action-2], [yoi-action-3], [yoi-action-4]").each(function(){var $this=$(this);YOI.updateProps($this),$this.is("[yoi-action]")&&YOI.bindAction($this,"yoi-action"),$this.is("[yoi-action-1]")&&YOI.bindAction($this,"yoi-action-1"),$this.is("[yoi-action-2]")&&YOI.bindAction($this,"yoi-action-2"),$this.is("[yoi-action-3]")&&YOI.bindAction($this,"yoi-action-3"),$this.is("[yoi-action-4]")&&YOI.bindAction($this,"yoi-action-4")})},setReady:function($element){$element.data().initialized=!0},isReady:function($element){return!!$element.data().initialized},initialize:function(){$.each(YOI.component,function(){this.hasOwnProperty("init")&&this.init()}),$.each(YOI.action,function(){this.hasOwnProperty("init")&&this.init()}),$.each(YOI.behaviour,function(){this.hasOwnProperty("init")&&this.init()}),$.each(YOI.module,function(){this.hasOwnProperty("init")&&this.init()}),YOI.mapActions()}};$(function(){YOI.component.Code&&YOI.component.Code.initialize(),YOI.initialize()}),YOI.behaviour.Dismiss=function(){function initialize($dismissableElement,options){var $dismissableElement=YOI.createCollection("dismiss",$dismissableElement,options);$dismissableElement&&$dismissableElement.each(function(){if($(this).data().props.isDismissable)return!1;var $thisDismissableElement=$(this),positionStatic="static"===$thisDismissableElement.css("position"),options=options||$thisDismissableElement.data().options;positionStatic&&$thisDismissableElement.css("position","relative"),$btnDismiss.clone().on("click",function(e){e.preventDefault(),dismiss($(this).parent())}).appendTo($thisDismissableElement),$(this).data().props.isDismissable=!0})}function dismiss($targetElement){if(!($targetElement instanceof jQuery))return!1;$targetElement.fadeOut(function(){$targetElement.trigger("yoi-dismiss")})}var language=YOI.locale(),localization={en:{btnLabel:"close"},de:{btnLabel:"schliessen"}},$btnDismiss=$('        <span class="btnDismiss">'+localization[language].btnLabel+"</span>    ");return{init:initialize}}(),YOI.behaviour.Lazyload=function(){function initialize($lazyload,options){var $lazyload=YOI.createCollection("lazyload",$lazyload,options);$lazyload&&$lazyload.each(function(){if($(this).data().props.isLazyloading)return!1;makeLazyload($(this)),$(this).data().props.isLazyloading=!0})}function makeLazyload($noscriptElement){var $placeHolder=$('<img class="lazyLoadPlaceHolder" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />'),options=$noscriptElement.data().options,defaultImage=options.src||extractImgSrcFromString($noscriptElement.html())||!1,width=options.width||!1,height=options.height||!1,alt=options.alt||!1,title=options.title||!1,longdesc=options.longdesc||!1,cssClasses=options.cssClasses||!1;if(!defaultImage||!YOI.foundModule("ScrollAgent"))return!1;$placeHolder.insertAfter($noscriptElement),$placeHolder=$noscriptElement.next(".lazyLoadPlaceHolder"),YOI.module.ScrollAgent.init($placeHolder),width&&$placeHolder.attr("width",width),height&&$placeHolder.attr("height",height),cssClasses&&$placeHolder.addClass(cssClasses),$placeHolder.one("yoi-viewport-in",function(){var imageUrl,currentBreakPoint=YOI.currentBreakPoint(),breakPointSmall=YOI.stringContains(currentBreakPoint,"small"),breakPointMedium=YOI.stringContains(currentBreakPoint,"medium"),breakPointLarge=YOI.stringContains(currentBreakPoint,"large"),breakPointXlarge=YOI.stringContains(currentBreakPoint,"xlarge");breakPointSmall&&(imageUrl=options.srcSmall),breakPointMedium&&(imageUrl=options.srcMedium),breakPointLarge&&(imageUrl=options.srcLarge),breakPointXlarge&&(imageUrl=options.srcXlarge),imageUrl=imageUrl||defaultImage;var $newImage=$("<img />");width&&$newImage.attr("width",width),height&&$newImage.attr("height",height),alt&&$newImage.attr("alt",alt),title&&$newImage.attr("title",title),longdesc&&$newImage.attr("longdesc",longdesc),cssClasses&&$newImage.addClass(cssClasses),$newImage.on("load",function(){$(this).addClass("fx-fade-in")}).attr("src",imageUrl).addClass("fx-fade-in-initial").insertAfter($noscriptElement),$newImage[0].complete&&$newImage.trigger("load"),$placeHolder.removeClass(cssClasses).css({width:0,height:0})})}function extractImgSrcFromString(input){return input.split('src="')[1].split('"')[0]}return{init:initialize}}(),YOI.behaviour.Parallax=function(){function initialize($parallaxElement,options){var $parallaxElement=YOI.createCollection("parallax",$parallaxElement,options);if($parallaxElement){if($parallaxElement.each(function(){var $this=$(this);if($this.data().props.isParallax)return!1;$activeParallaxElements=$activeParallaxElements.add($this),updateParallaxElement($this),$this.data().props.isParallax=!0}),resetScroll(),initialized)return;$window.on("yoi-pageheight-change",function(){updateParallaxEnv(),updateParallaxElements($parallaxElement)}).on("yoi-scroll",function(){updateParallaxEnv(),scrollParallax()}),initialized=!0}}function scrollParallax(){scrollOvershoot()||window.requestAnimationFrame(function(){$activeParallaxElements.each(function(){var $this=$(this),data=$this.data(),state=data.state,initialPosY=data.props.initialPosY,factor=data.options.factor||defaultFactor,scrollTopInViewport=initialPosY-(currentScrollTop+viewportHeight),parallaxOffset=data.props.startsInViewport?parseInt(currentScrollTop/factor,10):parseInt(scrollTopInViewport/factor,10);"in"!==state&&"center"!==state||$this.css("transform","translate3d(0, "+parallaxOffset+"px, 1px)")})})}function updateParallaxElement($parallaxElement){var data=$parallaxElement.data();data.props.isParallax||YOI.module.ScrollAgent.init($parallaxElement),"in"!==data.state&&"center"!==data.state||($parallaxElement.data().props.startsInViewport=!0)}function updateParallaxElements($parallaxElement){$parallaxElement.each(function(){updateParallaxElement($(this))})}function resetScroll(){$("body").scrollTop(0),$window.on("unload",function(){$window.scrollTop(0)})}function updateParallaxEnv(){currentScrollTop=$window.scrollTop(),viewportHeight=$window.height()}function scrollOvershoot(){return $window.scrollTop()+$window.height()>$(document).height()||$window.scrollTop()<0}var $window=$(window),$activeParallaxElements=$(),currentScrollTop=0,defaultFactor=8,initialized=!1;return{init:initialize}}(),YOI.behaviour.ScrollFx=function(){function initialize($targetElement,options){var $targetElement=YOI.createCollection("scrollfx",$targetElement,options);$targetElement&&$targetElement.each(function(){var $thisTargetElement=$(this);if($thisTargetElement.data().props.hasScrollFx)return!1;prepare($thisTargetElement),listen($thisTargetElement),$thisTargetElement.data().props.hasScrollFx=!0}),YOI.module.ScrollAgent.init($targetElement,options)}function prepare($targetElement){var options=$targetElement.data().options,inFx=options.in||!1,centerFx=options.center||!1;inFx&&$targetElement.addClass("fx-"+inFx+"-initial"),centerFx&&$targetElement.addClass("fx-"+centerFx+"-initial"),$targetElement.removeClass("fx-"+inFx),$targetElement.removeClass("fx-"+centerFx)}function listen($targetElement){var options=$targetElement.data().options,inFx=options.in||!1,centerFx=options.center||!1,speed=options.speed||!1;"false"!==(options.repeat||!0)?($targetElement.on("yoi-viewport-in",function(){applyFx($targetElement,inFx,speed)}),$targetElement.on("yoi-viewport-center",function(){applyFx($targetElement,centerFx,speed)}),$targetElement.on("yoi-viewport-out",function(){prepare($targetElement)})):($targetElement.one("yoi-viewport-in",function(){applyFx($targetElement,inFx,speed)}),$targetElement.one("yoi-viewport-center",function(){applyFx($targetElement,centerFx,speed)}))}function applyFx($targetElement,fx,speed){fx&&($targetElement.removeClass("fx-"+fx+"-initial"),$targetElement.addClass("fx-"+fx)),speed&&$targetElement.addClass("fx-"+speed)}return{init:initialize}}(),YOI.behaviour.Sticky=function(){function initialize($stickyElement,options){var $stickyElement=YOI.createCollection("sticky",$stickyElement,options);$stickyElement&&$stickyElement.each(function(index){var $thisStickyElement=$(this);"fixed"!==$thisStickyElement.css("position")&&"none"===$stickyElement.css("transform")&&$window.on("load",function(){manipulateDom($thisStickyElement,index),updateStickyElementProps($thisStickyElement)})}),$stickyElement&&positionObserver($stickyElement),$stickyElement&&stickObserver($stickyElement)}function manipulateDom($stickyElement,index){var $stickyPlaceholder=$('<div id="stickyPlaceholder-'+index+'"></div>'),$stickyWrapper=$('<div class="stickyWrapper"></div>'),stickyElementCssPos=$stickyElement.css("position"),stickyElementCssLeft=$stickyElement.css("left"),stickyElementCssTop=$stickyElement.css("top");"static"!==stickyElementCssPos?($stickyElement.css({position:"static"}),$stickyWrapper.css({position:stickyElementCssPos,top:stickyElementCssTop,left:stickyElementCssLeft})):$stickyWrapper.css({position:"relative"}),$stickyPlaceholder.css({width:$stickyElement.outerWidth(),height:$stickyElement.outerHeight(),display:"none"}),$($stickyElement).wrap($stickyWrapper),$stickyPlaceholder.insertAfter($stickyElement)}function updateStickyElementProps($stickyElement){var data=$stickyElement.data(),options=data.options,$referenceElement="parent"===options.reference?$stickyElement.parent().parent():$(options.reference).first(),stickyElementHeight=$stickyElement.outerHeight(),stickyElementWidth=$stickyElement.outerWidth(),stickyElementInitialTopPos=$stickyElement.offset().top,topOffset=void 0!==options.start?parseInt(options.start):0,topDistance=void 0!==options.stop?parseInt(options.stop):0,stickStart=void 0!==options.start?stickyElementInitialTopPos-topOffset:stickyElementInitialTopPos,stickStop=void 0!==options.stop?stickyElementInitialTopPos+topDistance-topOffset:$body.height(),passedValidation=validInput($stickyElement);$referenceElement.length&&(stickStart=$referenceElement.offset().top-topOffset,stickStop=stickStart+$referenceElement.outerHeight()-stickyElementHeight-topDistance),$referenceElement.length&&"parent"===options.reference&&(stickStart+=parseInt($referenceElement.css("paddingTop")),stickStop=stickStop-parseInt($referenceElement.css("paddingBottom"))+topDistance),data.props.passedValidation=passedValidation,data.props.height=stickyElementHeight,data.props.width=stickyElementWidth,data.props.initialTopPos=stickyElementInitialTopPos,data.props.topOffset=topOffset,data.props.topDistance=topDistance,data.props.stickStart=stickStart,data.props.stickStop=stickStop}function validInput($stickyElement){var props=$stickyElement.data().props,stickStart=props.stickStart,stickStop=props.stickStop;return!(stickStop<1||stickStart>stickStop||stickStart>$stickyElement.offset().top)}function positionObserver($stickyElements){$window.on("resize",function(){$stickyElements.each(function(index){var $stickyElement=$(this);validInput($stickyElement)&&updateStickyElementProps($stickyElement)})})}function stickObserver($stickyElements){$window.on("yoi-scroll",function(){var scrollTop=$window.scrollTop();$stickyElements.each(function(index){var cssPositionValue,cssTopValue,stickyPlaceholderDisplay,$stickyElement=$(this),$stickyPlaceholder=$("#stickyPlaceholder-"+index),props=$stickyElement.data().props,stickyElementInitialTopPos=props.initialTopPos,stickStart=props.stickStart,stickStop=props.stickStop,topOffset=props.topOffset;props.passedValidation&&(scrollTop<stickStart?(cssPositionValue="static",cssTopValue=0,stickyPlaceholderDisplay="none",$stickyElement.trigger("yoi-stick-stop")):scrollTop>stickStop?(cssPositionValue="absolute",cssTopValue=stickStop-stickyElementInitialTopPos+topOffset,stickyPlaceholderDisplay="block",$stickyElement.trigger("yoi-stick-stop")):(cssPositionValue="fixed",cssTopValue=0+topOffset,stickyPlaceholderDisplay="block",$stickyElement.trigger("yoi-stick-start")),$stickyElement.css({position:cssPositionValue,top:cssTopValue,"backface-visibility":"hidden","z-index":1001}),$stickyPlaceholder.css({display:stickyPlaceholderDisplay}))})})}var $body=$("body"),$window=$(window);return{init:initialize}}(),YOI.action.Blink=function($trigger,$target,options){$target instanceof jQuery&&YOI.blink($target,options.times)},YOI.action.Hide=function($trigger,$target,options){if($target instanceof jQuery){var fx=options.fx||!1,speed=options.speed||!1,remove=options.remove||!1;fx&&speed&&$target.addClass("fx-"+speed),"true"===remove?fx?$target.addClass("fx-"+fx).on("animationend",function(){$target.remove().trigger("yoi-remove")}):$target.remove().trigger("yoi-remove"):fx?$target.addClass("fx-"+fx).on("animationend",function(){$target.hide().trigger("yoi-hide")}):$target.hide().trigger("yoi-hide")}},YOI.action.Hide.init=function(){$('        [yoi-action*="Hide"],        [yoi-action-1*="Hide"],        [yoi-action-2*="Hide"],        [yoi-action-3*="Hide"],        [yoi-action-4*="Hide"]    ').each(function(){YOI.updateOptions($(this));var $target,$this=$(this),options=$this.data().options,targetSelector=options.Hide,fx=options.fx||!1;switch(targetSelector){case"self":$target=$this;break;case"parent":$target=$this.parent();break;default:$target=$(targetSelector)}$target instanceof jQuery&&($target.removeClass(function(index,className){return(className.match(/(^|\s)fx-\S+/g)||[]).join(" ")}),fx&&$target.addClass("fx-"+fx+"-initial").removeClass("fx-"+fx),$target.show())})},YOI.action.Pulse=function($trigger,$target,options){$target instanceof jQuery&&YOI.pulse($target,options.times)},YOI.action.ScrollTo=function($trigger,$target,options){if($target instanceof jQuery){var $scrollContext,scrollPosY,$document=$(document),scrollRoot=document.scrollingElement||document.documentElement,$scrollContainer=$target.closest(".scr-y")||!1,offset=options.offset||20,highlight=options.highlight||!1;$target.hasClass("tabs__page")&&YOI.foundComponent("Tabs")&&YOI.component.Tabs.switchTo(targetId),$scrollContainer.length?(scrollPosY="+="+$target.position().top,$scrollContext=$target.closest(".scr-y")):(scrollPosY=$target.offset().top-offset,$scrollContext=$(scrollRoot)),$document.trigger("yoi-scrollto-start"),$.when($scrollContext.stop().animate({scrollTop:scrollPosY},500)).done(function(){"blink"===highlight&&YOI.blink($target),"pulse"===highlight&&YOI.pulse($target),$document.trigger("yoi-scrollto-end")})}},YOI.action.Show=function($trigger,$target,options){if($target instanceof jQuery){var fx=options.fx||!1,speed=options.speed||!1;fx&&$target.addClass("fx-"+fx),fx&&speed&&$target.addClass("fx-"+speed),$target.show().trigger("yoi-show")}},YOI.action.Show.init=function(){$('        [yoi-action*="Show"],        [yoi-action-1*="Show"],        [yoi-action-2*="Show"],        [yoi-action-3*="Show"],        [yoi-action-4*="Show"]    ').each(function(){YOI.updateOptions($(this));var $target,$this=$(this),options=$this.data().options,targetSelector=options.Show,fx=options.fx||!1;switch(targetSelector){case"self":$target=$this;break;case"parent":$target=$this.parent();break;default:$target=$(targetSelector)}$target instanceof jQuery&&($target.removeClass(function(index,className){return(className.match(/(^|\s)fx-\S+/g)||[]).join(" ")}),fx&&$target.addClass("fx-"+fx+"-initial").removeClass("fx-"+fx),$target.hide())})},YOI.action.Update=function($trigger,$target,options){if($target instanceof jQuery){var requestType=options.type||!1,requestUrl=options.url||!1,filter=options.filter||"#yoi-update-src",language=YOI.locale(),localization={en:{errorTitle:"Error",errorMsg:"Could not load the requested data."},de:{errorTitle:"Fehler",errorMsg:"Leider konnte der angeforderte Inhalt nicht geladen werden."}},$errorMsg=$('            <div class="note note--negative note--large b-0 p-4">                <p class="note__body"><b>'+localization[language].errorTitle+":</b> "+localization[language].errorMsg+"</p>            </div>        "),$spinner=$('<span class="spinner"></span>');requestType=!requestType||"get"!==requestType.toLowerCase()&&"post"!==requestType.toLowerCase()?"GET":requestType.toUpperCase(),requestUrl&&$.ajax({url:requestUrl,cache:!1,type:requestType,beforeSend:function(){$target.append($spinner.clone()).trigger("yoi-update-before")},error:function(){$target.html($errorMsg.clone()).trigger("yoi-update-error")},success:function(data){var $response=$(data).filter(filter);$target.html($response).trigger("yoi-update-success")}})}},YOI.module.BrowserHistory=function(){function pushHash(hashString){history.pushState(null,null,window.location.pathname+hashString)}function replaceHash(hashString){history.replaceState(null,null,window.location.pathname+hashString)}function clearHash(){history.replaceState("",document.title,window.location.pathname)}return{pushHash:pushHash,replaceHash:replaceHash,clearHash:clearHash}}(),YOI.module.KeyboardAgent=function(){function initialize(){initialized||$document.on("keyup",function(e){var keyCode=e.which;void 0!==keys[keyCode]&&$document.trigger("yoi-keypressed-"+keys[keyCode])}),$document.on("focusin focusout",function(){$document.trigger("yoi-focus-change")}),initialized=!0}function addTabFocus($elements){$elements.attr("tabindex","0"),$document.on("yoi-keypressed-tab",function(){var $activeElement=$(document.activeElement);$elements.removeClass("tabFocus"),$activeElement.is($elements)&&$activeElement.addClass("tabFocus").on("blur",function(){$activeElement.removeClass("tabFocus")})})}var $document=$(document),initialized=!1,keys={38:"arrowup",39:"arrowright",40:"arrowdown",37:"arrowleft",13:"enter",32:"space",27:"escape",9:"tab"};return initialize(),{init:initialize,addTabFocus:addTabFocus}}(),YOI.module.Resizeagent=function(){function initialize(){if(initialized)return!1;$window.on("resize",function(){reportBreakPointChange()}),$document.ready(function(){reportBreakPointChange(),reportPageHeightChange()}),initialized=!0}function reportBreakPointChange(){(activeBreakPoint=YOI.currentBreakPoint())!==lastBreakPoint&&(YOI.clearDelay("reportBreakPointChangeDelay"),YOI.setDelay("reportBreakPointChangeDelay",250,function(){$window.trigger("yoi-breakpoint-change"),$window.trigger("yoi-breakpoint-"+activeBreakPoint)}),lastBreakPoint=activeBreakPoint)}function reportPageHeightChange(){lastPageHeight=$body.height(),YOI.setInterval("reportPageHeightChangeInterval",1e3,function(){(currentPageHeight=$body.height())!==lastPageHeight&&($window.trigger("yoi-pageheight-change"),lastPageHeight=$body.height())})}var lastBreakPoint,activeBreakPoint,lastPageHeight,currentPageHeight,$document=$(document),$window=$(window),$body=$("body"),initialized=!1;return{init:initialize}}(),YOI.module.ScrollAgent=function(){function initialize($targetElement){var $targetElement=YOI.createCollection("scrollagent",$targetElement);$targetElement?($activeTargetElements=$targetElement,update(),listen(),initialized||($window.on("load resize yoi-pageheight-change",function(){update()}),$window.on("scroll",function(){observe()}),initialized=!0)):$window.on("scroll",function(){broadcast()})}function update(){viewportHeight=$window.height(),$activeTargetElements.each(function(){var $thisTargetElement=$(this),thisHeight=$thisTargetElement.outerHeight(),thisInitialPosY=$thisTargetElement.offset().top,props=$thisTargetElement.data().props;props.height=thisHeight,props.initialPosY=thisInitialPosY,$window.scrollTop()<thisInitialPosY&&$window.height()>thisInitialPosY+10?($thisTargetElement.data().state="in",$thisTargetElement.trigger("yoi-viewport-in")):$thisTargetElement.data().state="out"})}function observe(){var currentScrollTop=$window.scrollTop();$activeTargetElements.each(function(index){var $targetElement=$(this),state=$targetElement.data().state,initialPosY=$targetElement.data().props.initialPosY,height=$targetElement.data().props.height,transformY=parseFloat($targetElement.css("transform").split(",")[13],10)||0;viewportIn=currentScrollTop+viewportHeight>initialPosY+transformY&&currentScrollTop<initialPosY+height+transformY,viewportCenter=currentScrollTop+viewportHeight/2>initialPosY+transformY&&currentScrollTop+viewportHeight<initialPosY+height+transformY+viewportHeight/2,viewportOut=!viewportIn,viewportIn&&"out"===state&&$targetElement.trigger("yoi-viewport-in"),viewportCenter&&"center"!==state&&$targetElement.trigger("yoi-viewport-center"),(viewportOut&&"in"===state||viewportOut&&"center"===state)&&$targetElement.trigger("yoi-viewport-out")})}function broadcast(){"number"!=typeof window.scrollObserverInterval&&YOI.setInterval("scrollObserverInterval",10,function(){$window.trigger("yoi-scroll");var currentScrollTop=$window.scrollTop();currentScrollTop<lastScrollTop&&$window.trigger("yoi-scroll-up"),currentScrollTop>lastScrollTop&&$window.trigger("yoi-scroll-down"),lastScrollTop=currentScrollTop}),YOI.clearDelay("scrollObserverDelay"),YOI.setDelay("scrollObserverDelay",250,function(){$window.trigger("yoi-scroll-stop"),YOI.clearInterval("scrollObserverInterval")})}function listen(){$activeTargetElements.each(function(){var $targetElement=$(this);$targetElement.on("yoi-viewport-in",function(){$targetElement.data().state="in"}),$targetElement.on("yoi-viewport-center",function(){$targetElement.data().state="center"}),$targetElement.on("yoi-viewport-out",function(){$targetElement.data().state="out"})})}var $activeTargetElements,viewportIn,viewportOut,viewportCenter,$window=$(window),viewportHeight=$window.height(),lastScrollTop=0,initialized=!1;return{init:initialize}}(),YOI.component.Accordion=function(){function initialize($accordion,options){var $accordion=YOI.createCollection("accordion",$accordion,options);$accordion&&$accordion.each(function(){if(YOI.isReady($(this)))return!1;var $thisAccordion=$(this),$thisSections=$thisAccordion.find(".accordion__section"),eventType=YOI.environment("mobile")?"tap":"click";$thisSections.each(function(){var $thisSection=$(this),$thisHeader=$thisSection.find(".accordion__header"),$thisBody=$thisSection.find(".accordion__body");$thisSection.hasClass("is--open")||$thisSection.hasClass("is--closed")||($thisSection.addClass("is--closed"),$thisSection.data().state="closed",$thisBody.slideUp(0)),$thisSection.hasClass("is--open")&&($thisSection.data().state="open"),$thisHeader.on(eventType,function(e){e.preventDefault(),toggleSection($thisSection)})}),YOI.setReady($(this))}),keyboardEventsAdded||addKeyboardEvents()}function toggleSection($section){var $thisAccordion=$section.closest(".accordion"),$thisSection=$section,options=$thisAccordion.data().options,state=$thisSection.data().state;"closed"===state&&options.linked&&closeAllSections($thisAccordion),"closed"===state&&openSection($thisSection),"open"!==state||options.linked||closeSection($thisSection)}function openSection($section){var $thisSection=$section,$thisBody=$section.find(".accordion__body");$thisSection.removeClass("is--closed").addClass("is--open"),$thisBody.stop().slideDown("fast").promise().then(function(){$thisSection.trigger("yoi-accordion-done")}),$thisSection.trigger("yoi-accordion-open"),$thisSection.data().state="open"}function closeSection($section){var $thisSection=$section,$thisBody=$section.find(".accordion__body");$thisSection.removeClass("is--open").addClass("is--closed").promise().then(function(){$thisSection.trigger("yoi-accordion-done")}),$thisBody.stop().slideUp("fast"),$thisSection.trigger("yoi-accordion-close"),$thisSection.data().state="closed"}function closeAllSections($accordion){var $targets;$targets=void 0===$accordion?$("[yoi-accordion] .accordion__section"):$(".accordion__section"),$targets.each(function(){closeSection($(this))})}function openAllSections($accordion){var $targets;$targets=void 0===$accordion?$("[yoi-accordion] .accordion__section"):$(".accordion__section"),$targets.each(function(){openSection($(this))})}function addKeyboardEvents(){YOI.foundModule("KeyboardAgent")&&!keyboardEventsAdded&&(YOI.module.KeyboardAgent.addTabFocus($(".accordion__header")),$document.on("yoi-keypressed-enter",function(){var $activeElement=$(document.activeElement);$activeElement.is(".accordion__header")&&toggleSection($activeElement.closest(".accordion__section"))})),keyboardEventsAdded=!0}var keyboardEventsAdded=!1;return{init:initialize,close:closeSection,open:openSection,closeAll:closeAllSections,openAll:openAllSections,toggle:toggleSection}}(),YOI.component.Code=function(){function initialize(){var $codeWrapper=$('div[class*="highlighter"]'),tabPageIndex=0;$codeWrapper&&$codeWrapper.each(function(index){if(YOI.isReady($(this)))return!1;var markup,$thisCodeWrapper=$(this),$thisCode=$thisCodeWrapper.find("code"),exampleTag="\x3c!-- example --\x3e",thisExample=$thisCode.text().split(exampleTag).length>1&&$thisCode.text().split(exampleTag)[1],thisExampleTabbed=$thisCode.text().split("\x3c!-- example:tabs --\x3e").length>1&&$thisCode.text().split("\x3c!-- example:tabs --\x3e")[1];if(thisExampleTabbed)var firstIndex=++tabPageIndex,secondIndex=++tabPageIndex;thisExample&&($thisCode.find('.c:contains("'+exampleTag+'")').remove(),markup='<div class="code__example">',markup+='<div class="code__result">',markup+=thisExample,markup+="</div>",markup+='<div class="code__source">',
markup+=$thisCodeWrapper.html(),markup+="</div>",markup+="</div>"),thisExampleTabbed&&($thisCode.find('.c:contains("\x3c!-- example:tabs --\x3e")').remove(),markup='<div class="code__example tabs">',markup+='<div class="tabs__menu tabs__menu--loose" yoi-tabs>',markup+='<ul class="tabs__items">',markup+='<li class="tabs__item">',markup+='<a class="tabs__link" href="#exampleTab-'+firstIndex+'">Example</a>',markup+="</li>",markup+='<li class="tabs__item">',markup+='<a class="tabs__link" href="#exampleTab-'+secondIndex+'">Code</a>',markup+="</li>",markup+="</ul>",markup+="</div>",markup+='<div id="exampleTab-'+firstIndex+'" class="tabs__page code__result">',markup+=thisExampleTabbed,markup+="</div>",markup+='<div id="exampleTab-'+secondIndex+'" class="tabs__page code__source">',markup+=$thisCodeWrapper.html(),markup+="</div>",markup+="</div>"),markup=addCopyBtn(thisExample||thisExampleTabbed?markup:$thisCodeWrapper),(thisExample||thisExampleTabbed)&&$thisCodeWrapper.replaceWith(markup),YOI.setReady($(this))})}function addCopyBtn(markup){if(!document.queryCommandSupported||!document.queryCommandSupported("copy"))return markup;var $markup=markup instanceof jQuery?markup:$(markup),$copyBtn=$('<button class="code__copyBtn btn btn--flat btn--light">Copy</button>'),$codeSource=$markup.find(".code__source"),codeHasRenderedExample=!!$codeSource.length;return $copyBtn.on("click",function(){copyToClipBoard($copyBtn.parent().find("code").first()),YOI.blink($copyBtn)}),codeHasRenderedExample?$markup.find(".code__source").append($copyBtn):$markup.append($copyBtn),$markup}function copyToClipBoard($source){var selection=window.getSelection(),range=document.createRange();range.selectNodeContents($source[0]),selection.addRange(range),document.execCommand("copy"),selection.removeAllRanges()}return{initialize:initialize}}(),YOI.component.Countdown=function(){function initialize($countdown,options){var $countdown=YOI.createCollection("countdown",$countdown,options);$countdown&&$countdown.each(function(index){if(YOI.isReady($(this)))return!1;var $thisCountdown=$(this),options=$thisCountdown.data().options,defaultYear=(new Date).getFullYear(),year=void 0===options.year?defaultYear:parseInt(options.year),month=void 0===options.month||parseInt(options.month)>12||parseInt(options.month)<1?1:parseInt(options.month),day=void 0===options.day||parseInt(options.day)>31||parseInt(options.day)<1?1:parseInt(options.day),hour=void 0===options.hour||parseInt(options.hour)>12||parseInt(options.hour)<1?12:parseInt(options.hour),minute=void 0===options.minute||parseInt(options.minute)>60||parseInt(options.minute)<1?0:parseInt(options.minute),second=void 0===options.second||parseInt(options.second)>60||parseInt(options.second)<1?0:parseInt(options.second);$thisCountdown.data().props={endTime:getDateString(month,day,year,hour,minute,second),index:index},render($thisCountdown),YOI.setInterval("countdownTimer-"+index,1e3,function(){update($thisCountdown)}),YOI.setReady($(this))})}function render($thisCountdown){for(var endTime=$thisCountdown.data().props.endTime,timeRemaining=getTimeRemaining(endTime),lcdCharacters=getLcdCharactersCSSClassNames(timeRemaining),$hiddenLabel=$thisCountdown.find(".countdown__hiddenLabel"),$thisCountdownClock=$countdownClock.clone(),i=0;i<Object.keys(lcdCharacters).length;i++){var unit=Object.keys(lcdCharacters)[i],$countdownChars=$("<div></div>").addClass("countdown__"+unit),$countdownLabel=getCharacterLabel(unit);timeRemaining.total>0?($countdownChars.append($countdownCharacter.clone().addClass(lcdCharacters[unit][0])),$countdownChars.append($countdownCharacter.clone().addClass(lcdCharacters[unit][1]))):($countdownChars.append($countdownCharacter.clone().addClass("countdown--empty")),$countdownChars.append($countdownCharacter.clone().addClass("countdown--empty"))),$countdownChars.append($countdownLabel),$thisCountdownClock.append($countdownChars)}$thisCountdown.append($thisCountdownClock),0===$hiddenLabel.length&&$thisCountdown.append($('<p class="countdown__hiddenLabel"></p>'))}function update($thisCountdown){var endTime=$thisCountdown.data().props.endTime,index=$thisCountdown.data().props.index,timeRemaining=getTimeRemaining(endTime),language=YOI.locale(),$hiddenLabel=$thisCountdown.find(".countdown__hiddenLabel");timeRemaining.total<=0&&(YOI.clearInterval("countdownTimer-"+index),$thisCountdown.trigger("yoi-countdown-expire"));for(var lcdCharacters=getLcdCharactersCSSClassNames(timeRemaining),i=0;i<Object.keys(lcdCharacters).length;i++){var unit=Object.keys(lcdCharacters)[i],selector=".countdown__"+unit+" .countdown__character";timeRemaining.total>0?($thisCountdown.find(selector).eq(0).attr("class","countdown__character "+lcdCharacters[unit][0]),$thisCountdown.find(selector).eq(1).attr("class","countdown__character "+lcdCharacters[unit][1])):($thisCountdown.find(selector).eq(0).attr("class","countdown__character countdown--empty"),$thisCountdown.find(selector).eq(1).attr("class","countdown__character countdown--empty"))}var labelTxt={en:timeRemaining.days+" days, "+timeRemaining.hours+" hours, "+timeRemaining.minutes+" minutes and "+timeRemaining.seconds+" seconds left.",de:"Noch "+timeRemaining.days+" Tage, "+timeRemaining.hours+" Stunden, "+timeRemaining.minutes+" Minuten und "+timeRemaining.seconds+" Sekunden."};$hiddenLabel.text(labelTxt[language])}function getDateString(month,day,year,hour,minute,second){return["January","February","March","April","May","June","July","August","September","October","November","December"][month-1]+" "+day+" "+year+" "+hour+":"+minute+":"+second}function getTimeRemaining(endTime){var total=Date.parse(endTime)-Date.parse(new Date),seconds=YOI.zeroPad(Math.floor(total/1e3%60)).toString(),minutes=YOI.zeroPad(Math.floor(total/1e3/60%60)).toString(),hours=YOI.zeroPad(Math.floor(total/36e5%24)).toString();return{total:total,days:YOI.zeroPad(Math.floor(total/864e5)).toString(),hours:hours,minutes:minutes,seconds:seconds}}function getLcdCharactersCSSClassNames(timeRemaining){return{days:["countdown--"+timeRemaining.days.charAt(0),"countdown--"+timeRemaining.days.charAt(1)],hours:["countdown--"+timeRemaining.hours.charAt(0),"countdown--"+timeRemaining.hours.charAt(1)],minutes:["countdown--"+timeRemaining.minutes.charAt(0),"countdown--"+timeRemaining.minutes.charAt(1)],seconds:["countdown--"+timeRemaining.seconds.charAt(0),"countdown--"+timeRemaining.seconds.charAt(1)]}}function getCharacterLabel(unit){var $label=$countdownCharacterLabel.clone();return $label.text(localization[language][unit]),$label}var language=YOI.locale(),localization={en:{days:"Days",hours:"Hours",minutes:"Min",seconds:"Sec"},de:{days:"Tage",hours:"Std",minutes:"Min",seconds:"Sek"}},$countdownCharacter=$('        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="countdown__character" x="0px" y="0px" width="24px" height="37px" viewBox="0 0 24 37" xml:space="preserve">            <polygon class="countdown__character__segment-br" points="19,31 19,22 22,20 22,34" />            <polygon class="countdown__character__segment-tr" points="19,15 19,6 22,3 22,17" />            <polygon class="countdown__character__segment-bl" points="5,22 5,31 2,34 2,20" />            <polygon class="countdown__character__segment-tl" points="5,6 5,15 2,17 2,3" />            <polygon class="countdown__character__segment-b" points="6,32 18,32 21,35 3,35" />            <polygon class="countdown__character__segment-m" points="19,20 5,20 3,18.5 5,17 19,17 21,18.5" />            <polygon class="countdown__character__segment-t" points="3,2 6,5 18,5 21,2" />            <path class="countdown__character__dots" d="M12,14c1.104,0,2-0.896,2-2s-0.896-2-2-2s-2,0.896-2,2S10.896,14,12,14z M12,23c-1.104,0-2,0.896-2,2s0.896,2,2,2 s2-0.896,2-2S13.104,23,12,23z" />        </svg>    '),$countdownCharacterLabel=$('<span class="countdown__label"></span>'),$countdownClock=$('<div class="countdown__clock" aria-hidden="true"></div>');return{init:initialize}}(),YOI.component.DatePicker=function(){function initialize($datepicker,options){getCurrentDate();var $datepicker=YOI.createCollection("datepicker",$datepicker,options);$datepicker&&$datepicker.each(function(index){if(YOI.isReady($(this)))return!1;var $thisDateInput=$(this),options=$thisDateInput.data().options,inputYear=void 0===options.year?now.year:parseInt(options.year),inputMonth=void 0===options.month?now.month:parseInt(options.month-1),inputDay=void 0===options.day?now.day:parseInt(options.day);updateDateInput($thisDateInput,inputYear,inputMonth,inputDay);var $thisDatePicker=renderDatePicker(inputYear,inputMonth,inputDay);$thisDateInput.wrap('<div class="datePicker__wrapper"></div>');var $thisDateInputWrapper=$thisDateInput.closest(".datePicker__wrapper");$thisDateInput.after($thisDatePicker),$thisDatePicker.hide(),$thisDateInputWrapper.on("click",function(e){$thisDateInput.trigger("focus")}),$thisDateInput.on("click",function(e){e.stopPropagation()}).on("blur",function(){YOI.setDelay("datePickerHideTimeout-"+index,500,function(){var thisDateInputProps=$thisDateInput.data().props;$thisDateInput.next(".datePicker").fadeOut("fast",function(){$thisDatePicker.find(".datePicker__days").replaceWith(renderMonthTable($thisDatePicker,thisDateInputProps.selectedYear,thisDateInputProps.selectedMonth)),$thisDatePicker.find(".datePicker__header").text(localization[language].monthNames[thisDateInputProps.selectedMonth]+" "+thisDateInputProps.selectedYear)}),$document.trigger("yoi-datepicker-hide")})}).on("focus",function(e){YOI.clearDelay("datePickerHideTimeout-"+index),hideAllDatePickers(),placeDatePicker($thisDateInput.next(".datePicker")).show(),$document.trigger("yoi-datepicker-show")}),YOI.setReady($(this))})}function updateDatePicker($thisDatePicker,selectedYear,selectedMonth,selectedDay){var formattedSelectedDate=YOI.zeroPad(selectedDay,1)+"."+YOI.zeroPad(selectedMonth,1)+"."+selectedYear;$thisDatePicker.data().props={selectedYear:selectedYear,selectedMonth:selectedMonth,selectedDay:selectedDay,formattedSelectedDate:formattedSelectedDate}}function updateMonthTable($thisMonthTable,year,month){if(getCurrentDate(),void 0===month||void 0===year)var year=now.year,month=now.month;var firstDayInstance=new Date(year,month,1),firstDay=firstDayInstance.getDay();firstDayInstance=null;var totalDays=getTotalDays(year,month),selectedDay=$thisMonthTable.find(".datePicker--selectedDay").text(),formattedDate=YOI.zeroPad(selectedDay,1)+"."+YOI.zeroPad(month+1,1)+"."+year;$thisMonthTable.data().props={firstDay:firstDay,totalDays:totalDays,year:year,month:month,formattedDate:formattedDate}}function updateDateInput($thisDateInput,year,month,day){var formattedDate;day&&month&&year?("de"===language&&(formattedDate=YOI.zeroPad(day,1)+"."+YOI.zeroPad(month+1,1)+"."+year),"en"===language&&(formattedDate=YOI.zeroPad(month+1,1)+"."+YOI.zeroPad(day,1)+"."+year)):formattedDate="",$thisDateInput.data().props={selectedYear:year,selectedMonth:month,selectedDay:day,formattedDate:formattedDate},$thisDateInput.val(formattedDate)}function renderMonthTable($thisDatePicker,year,month){var $monthTable=$('<table class="datePicker__days"><tbody></tbody></table>'),$monthTableBody=$monthTable.find("tbody").first();updateMonthTable($monthTable,year,month);var thisMonthTableProps=$monthTable.data().props,thisDatePickerProps=$thisDatePicker.data().props;$monthTableBody.append($weekDaysHeader.clone());for(var indexCell=1,indexDay=1,i=0;i<Math.ceil((thisMonthTableProps.totalDays+thisMonthTableProps.firstDay-1)/7);i++){for(var $row=$("<tr>"),j=0;j<7;j++){var $cell=$("<td></td>");indexCell<thisMonthTableProps.firstDay||indexDay>thisMonthTableProps.totalDays?$cell.addClass("datePicker--emptyDay"):($cell.text(indexDay),indexDay++),thisMonthTableProps.month===thisDatePickerProps.selectedMonth&&thisMonthTableProps.year===thisDatePickerProps.selectedYear&&indexDay-1===thisDatePickerProps.selectedDay&&$cell.addClass("datePicker--selectedDay"),thisMonthTableProps.month===now.month&&thisMonthTableProps.year===now.year&&indexDay-1===now.day&&$cell.addClass("datePicker--today"),$row.append($cell),indexCell++}$monthTableBody.append($row)}return $monthTable.find("td:not(.datePicker--emptyDay)").on("mousedown",function(){var selectedDay=parseInt($(this).text());pickDate($monthTable,thisMonthTableProps.year,thisMonthTableProps.month,selectedDay)}),$monthTable}function renderDatePicker(year,month,selectedDay){var $thisDatePicker=$datePicker.clone();updateDatePicker($thisDatePicker,year,month,selectedDay);var $thisMonthTable=renderMonthTable($thisDatePicker,year,month);return $thisDatePicker.append($thisMonthTable),void 0===month&&(month=now.month),void 0===year&&(year=now.year),$thisDatePicker.find(".datePicker__header").text(localization[language].monthNames[month]+" "+year),$thisDatePicker.find('[yoi-action*="Month"]').on("click",function(e){e.preventDefault();var $thisMonthButton=$(this),$thisDatepicker=$thisMonthButton.closest(".datePicker"),$thisMonthTable=$thisDatepicker.find(".datePicker__days"),thisMonthTableProps=$thisMonthTable.data().props,month=thisMonthTableProps.month,year=thisMonthTableProps.year,thisAction=$thisMonthButton.attr("yoi-action");"prevMonth"===thisAction&&(month>0?--month:(month=11,--year)),"nextMonth"===thisAction&&(month<11?++month:(month=0,++year)),$thisDatePicker.find(".datePicker__days").replaceWith(renderMonthTable($thisDatePicker,year,month)),$thisDatePicker.find(".datePicker__header").text(localization[language].monthNames[month]+" "+year),updateMonthTable($thisMonthTable,year,month)}),$thisDatePicker.on("mousedown",function(){YOI.setDelay("datePickerFocusDelay",50,function(){$thisDatePicker.prev("input[yoi-datepicker]").focus()})}),$thisDatePicker}function pickDate($thisMonthTable,selectedYear,selectedMonth,selectedDay){var $thisDatePicker=$thisMonthTable.closest(".datePicker"),$thisDateInput=$thisDatePicker.prev("input[yoi-datepicker]");$thisMonthTable.find("td").each(function(){var $thisCell=$(this);$thisCell.removeClass("datePicker--selectedDay"),parseInt($thisCell.text())===selectedDay&&$thisCell.addClass("datePicker--selectedDay")}),updateMonthTable($thisMonthTable,selectedYear,selectedMonth),updateDatePicker($thisDatePicker,selectedYear,selectedMonth,selectedDay),updateDateInput($thisDateInput,selectedYear,selectedMonth,selectedDay)}function hideAllDatePickers(){$(".datePicker__wrapper .datePicker").hide(),$document.trigger("yoi-datepicker-hide")}function getCurrentDate(){var currentDate=new Date;now={weekDay:currentDate.getDay(),day:currentDate.getDate(),month:currentDate.getMonth(),year:adjustYear(currentDate.getYear())}}function getTotalDays(year,month){var daysInMonths=[31,28,31,30,31,30,31,31,30,31,30,31];return year%4==0&&(daysInMonths[1]=29),daysInMonths[month]}function adjustYear(year){return year<1e3&&(year+=1900),year}function placeDatePicker($thisDatePicker){var $dateInput=$thisDatePicker.prev("input[yoi-datepicker]"),dateInputOffsetY=$dateInput.offset().top,dateInputHeight=$dateInput.outerHeight(),datePickerHeight=$thisDatePicker.outerHeight(),viewPortHeight=$(window).height(),scrollTop=$(window).scrollTop(),place=viewPortHeight-(dateInputOffsetY+dateInputHeight-scrollTop)<datePickerHeight?"above":"below";return"above"===place?$thisDatePicker.css("top",-1*datePickerHeight-10+"px"):"below"===place&&$thisDatePicker.css("top",dateInputHeight+10+"px"),$thisDatePicker}var $document=$(document),language=YOI.locale(),localization={en:{weekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},de:{weekDays:["Mo","Di","Mi","Do","Fr","Sa","So"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]}},language="object"!=typeof YOI.locale()||void 0===YOI.locale()||""===YOI.locale()?"en":YOI.locale(),now={},$datePicker=$('        <div class="datePicker">            <span class="datePicker__btnPrev" yoi-action="prevMonth"></span>            <span class="datePicker__btnNext" yoi-action="nextMonth"></span>            <h3 class="datePicker__header"></h3>        </div>    '),$weekDaysHeader=$("        <tr>            <th>"+localization[language].weekDays[0]+"</th>            <th>"+localization[language].weekDays[1]+"</th>            <th>"+localization[language].weekDays[2]+"</th>            <th>"+localization[language].weekDays[3]+"</th>            <th>"+localization[language].weekDays[4]+"</th>            <th>"+localization[language].weekDays[5]+"</th>            <th>"+localization[language].weekDays[6]+"</th>        </tr>    ");return{init:initialize,hide:hideAllDatePickers}}(),YOI.component.Dock=function(){function initialize($dock,options){var $dock=YOI.createCollection("dock",$dock,options);$dock&&$dock.each(function(){if(YOI.isReady($(this)))return!1;var $thisDock=$(this);$thisDock.data().options.autohide&&(hide($thisDock),$thisDock.on("mouseover",function(){YOI.clearDelay("hideTimeout"),show($thisDock)}).on("mouseout",function(){YOI.setDelay("hideTimeout",750,function(){hide($thisDock)})})),YOI.setReady($(this))})}function hide($thisDock){$thisDock.addClass("is--hidden"),$thisDock.trigger("yoi-dock-hide"),$thisDock.data().state="hidden"}function show($thisDock){$thisDock.removeClass("is--hidden"),$thisDock.trigger("yoi-dock-show"),$thisDock.data().state="visible"}return{init:initialize,hide:hide,show:show}}(),YOI.component.FilterBtns=function(){function initialize($filterBtns,options){var $filterBtns=YOI.createCollection("filterbtns",$filterBtns,options);$filterBtns&&$filterBtns.each(function(){if(YOI.isReady($(this)))return!1;var $thisFilterBtns=$(this);$thisFilterBtns.hasClass("filterBtns--removeable")?$thisFilterBtns.find(".filterBtns__btn").each(function(){var $thisBtn=$(this);$thisBtn.on("click",function(e){e.preventDefault(),remove($thisBtn)})}):$thisFilterBtns.find(".filterBtns__btn").each(function(){var $thisBtn=$(this);$thisBtn.hasClass("is--active")?$thisBtn.data().state="on":$thisBtn.data().state="off",$thisBtn.on("click",function(e){e.preventDefault(),toggle($thisBtn)}),$thisBtn.on("mouseout",function(e){e.preventDefault(),$thisBtn.removeClass("filterBtns__btn--debounce")})}),YOI.setReady($(this))})}function toggle($thisBtn){var state=$thisBtn.data().state;"on"===state&&($thisBtn.removeClass("is--active"),$thisBtn.removeClass("filterBtns__btn--debounce"),$thisBtn.trigger("yoi-filterbtn-on"),$thisBtn.data().state="off"),"off"===state&&($thisBtn.addClass("is--active"),$thisBtn.addClass("filterBtns__btn--debounce"),$thisBtn.trigger("yoi-filterbtn-off"),$thisBtn.data().state="on")}function remove($thisBtn){$thisBtn.fadeOut("fast"),$thisBtn.trigger("yoi-filterbtn-remove")}return{init:initialize}}(),YOI.component.Filters=function(){function initialize($filters,options){var $filters=YOI.createCollection("filters",$filters,options);$filters&&$filters.each(function(){if(YOI.isReady($(this)))return!1;var $thisFilters=$(this),$thisFilterGroups=$thisFilters.find(".filterGroup"),$thisFilterGroupHeaders=$thisFilters.find(".filterGroup__header"),$thisFiltersMulti=$thisFilters.find(".filter--multi"),$thisFiltersSingle=$thisFilters.find(".filter--single");updateAllFilterGroups($thisFilters),$thisFilterGroups.each(function(){var $thisFilterGroup=$(this),props=$thisFilterGroup.data().props;$thisFilterGroup.height()>filterGroupMaxHeight?(props.isScroll=!0,$thisFilterGroup.addClass("filterGroup--isScroll")):props.isScroll=!1,props.isCollapsed&&collapseFilterGroup($thisFilterGroup)}),$thisFilterGroupHeaders.on("click",function(){toggleFilterGroup($(this).closest(".filterGroup"))}),$thisFiltersMulti.on("click",function(e){e.preventDefault(),toggleFilter($(this))}),$thisFiltersSingle.on("click",function(e){e.preventDefault(),toggleFilter($(this))}),$thisFilters.on("yoi-filters-reset",function(){reset($thisFilters),removeResetBtn($thisFilters)}),$thisFilters.on("yoi-filters-update",function(){addResetBtn($thisFilters)}),$thisFilters.on("yoi-rangeinput-change",function(){addResetBtn($thisFilters)}),YOI.setReady($(this))})}function reset($filters){var $thisFilters=$filters,$thisFilterGroups=$thisFilters.find(".filterGroup");$thisFilters.find(".filter").removeClass("is--active"),$thisFilterGroups.each(function(){var $thisFilterGroup=$(this);$thisFilterGroup.data().props.isCollapsed&&collapseFilterGroup($thisFilterGroup)}),$thisFilters.find(".rangeInput").trigger("yoi-rangeinput-reset"),$thisFilters.trigger("yoi-filters-update")}function collapseFilterGroup($thisFilterGroup){var $thisFilters=$thisFilterGroup.closest(".filters"),$thisFilterGroupBody=$thisFilterGroup.find(".filterGroup__body");$thisFilterGroup.hasClass("filterGroup--isScroll")&&$thisFilterGroupBody.animate({scrollTop:0},100),$thisFilterGroup.addClass("filterGroup--collapsed"),$.when($thisFilterGroup.find(".filter:not(.is--active)").slideUp(200)).then(function(){updateAllFilterGroups($thisFilters)})}function expandFilterGroup($thisFilterGroup){var $thisFilters=$thisFilterGroup.closest(".filters");$thisFilterGroup.removeClass("filterGroup--collapsed"),$.when($thisFilterGroup.find(".filter:not(.is--active)").slideDown(200)).then(function(){updateAllFilterGroups($thisFilters)})}function toggleFilterGroup($thisFilterGroup){$thisFilterGroup.data().props.isCollapsed?expandFilterGroup($thisFilterGroup):collapseFilterGroup($thisFilterGroup)}function toggleFilter($thisFilter){var $thisFilterGroup=$thisFilter.closest(".filterGroup"),props=$thisFilterGroup.data().props,$thisFilters=$thisFilter.closest(".filters");$thisFilter.hasClass("filter--multi")?$thisFilter.toggleClass("is--active"):$thisFilter.hasClass("filter--single")&&($thisFilterGroup.find(".filter--single").removeClass("is--active"),$thisFilter.addClass("is--active")),$thisFilter.trigger("yoi-filters-change"),YOI.setDelay("toggleFilterTimeout",750,function(){props.isCollapsed&&props.hasActiveFilters&&collapseFilterGroup($thisFilterGroup),updateAllFilterGroups($thisFilters),$thisFilters.trigger("yoi-filters-update")})}function addResetBtn($thisFilters){$thisFilters.find(".filters__resetBtn").length>0||$resetBtn.clone().prependTo($thisFilters).on("click",function(e){e.preventDefault(),$thisFilters.trigger("yoi-filters-reset")})}function removeResetBtn($thisFilters){$thisFilters.find(".filters__resetBtn").detach()}function updateAllFilterGroups($thisFilters){$thisFilters.find(".filterGroup").each(function(){var $thisFilterGroup=$(this),props=YOI.updateProps($thisFilterGroup);props.isCollapsed=$thisFilterGroup.hasClass("filterGroup--collapsed"),props.hasActiveFilters=$thisFilterGroup.find(".is--active").length>0,props.hasShadow=props.isScroll&&!props.isCollapsed||props.isCollapsed&&$thisFilterGroup.height()>filterGroupMaxHeight,props.hasActiveFilters?$thisFilterGroup.addClass("filterGroup--hasActiveFilters"):$thisFilterGroup.removeClass("filterGroup--hasActiveFilters"),props.hasShadow?$thisFilterGroup.addClass("filterGroup--hasShadow"):$thisFilterGroup.removeClass("filterGroup--hasShadow")})}var filterGroupMaxHeight=210,language=YOI.locale(),localization={en:{btnLabelReset:"Reset All Filters"},de:{btnLabelReset:"Alle Filter zurücksetzen"}},$resetBtn=$('        <a href="#" class="filters__resetBtn">'+localization[language].btnLabelReset+"</a>    ");return{init:initialize,toggle:toggleFilter,reset:reset}}(),YOI.component.Flyout=function(){function initialize($flyout,options){var $flyout=YOI.createCollection("flyout",$flyout,options);$flyout&&$flyout.each(function(){if(YOI.isReady($(this)))return!1;var $thisFlyout=$(this).detach(),$flyoutHandle=$thisFlyout.find(".flyout__handle");$thisFlyout.hasClass("flyout--left")||$thisFlyout.hasClass("flyout--right")||$thisFlyout.addClass("flyout--left"),hide($thisFlyout),$flyoutHandle.on("click",function(){toggle($thisFlyout)}),$("body").append($thisFlyout),YOI.setReady($(this))})}function toggle($thisFlyout){"visible"==$thisFlyout.data().state?hide($thisFlyout):show($thisFlyout)}function show($thisFlyout){$thisFlyout.removeClass("flyout--hidden").addClass("flyout--visible").trigger("yoi-flyout-visible"),$thisFlyout.data().state="visible"}function hide($thisFlyout){$thisFlyout.removeClass("flyout--visible").addClass("flyout--hidden").trigger("yoi-flyout-hidden"),$thisFlyout.data().state="hidden"}return{init:initialize,toggle:toggle,show:show,hide:hide}}(),YOI.component.CustomFormElements=function(){function initialize(){var $checkElemns=$('input[type="checkbox"]:not(.js-fallback, .switch *), input[type="radio"]:not(.js-fallback, .switch *, .pickBtn *)'),$checkBoxes=$('input[type="checkbox"]:not(.js-fallback, .switch *)'),$radioBtns=$('input[type="radio"]:not(.js-fallback, .switch *, .pickBtn *)'),$selects=$("select:not(.js-fallback)");$checkBoxes.each(function(){if(YOI.isReady($(this)))return!1;var $thisCheckbox=$(this);-1===$thisCheckbox.parents().index("label")?$thisCheckbox.wrap($checkBoxWrapper.clone(!0)):$thisCheckbox.wrap($checkBoxWrapper.clone()),$thisCheckbox.on({focus:function(){$thisCheckbox.parent().addClass("input--focus"),$thisCheckbox.trigger("yoi-input-focus")},blur:function(){$thisCheckbox.parent().removeClass("input--focus"),$thisCheckbox.trigger("yoi-input-blur")},change:function(e){$thisCheckbox.parent().toggleClass("input--checked"),$thisCheckbox.trigger("yoi-input-change")}}),YOI.setReady($(this))}),$radioBtns.each(function(){if(YOI.isReady($(this)))return!1;var $thisRadioBtn=$(this);-1===$thisRadioBtn.parents().index("label")?$thisRadioBtn.wrap($radioBtnWrapper.clone(!0)):$thisRadioBtn.wrap($radioBtnWrapper.clone()),$thisRadioBtn.on({focus:function(){$thisRadioBtn.parent().addClass("input--focus"),$thisRadioBtn.trigger("yoi-input-focus")},blur:function(){$thisRadioBtn.parent().removeClass("input--focus"),$thisRadioBtn.trigger("yoi-input-blur")},change:function(e){var groupName=$thisRadioBtn.attr("name");$('[name="'+groupName+'"]').parent().removeClass("input--checked"),$thisRadioBtn.parent().addClass("input--checked"),$thisRadioBtn.trigger("yoi-input-change")}}),YOI.setReady($(this))}),$selects.each(function(){if(YOI.isReady($(this)))return!1;var $thisSelect=$(this),$thisSelectWrapper=$selectWrapper.clone(),$thisSelectIcon=$selectIcon.clone();$thisSelectWrapper.addClass($thisSelect.attr("class")),$thisSelect.wrap($thisSelectWrapper),$thisSelect.parent().append($thisSelectIcon),$thisSelect.removeAttr("class"),$thisSelect.on({focus:function(){$(this).parent().addClass("input--focus"),$(this).trigger("yoi-input-focus")},blur:function(){$(this).parent().removeClass("input--focus"),$(this).trigger("yoi-input-blur")},change:function(){$(this).trigger("yoi-input-change")}}),YOI.setReady($(this))}),$checkElemns.each(function(){var thisWrapper=$(this).parent();thisWrapper.addClass($(this).attr("class")),$(this).removeAttr("class"),$(this).is(":checked")&&thisWrapper.addClass("input--checked"),YOI.setReady($(this))})}var $checkBoxWrapper=$('<span class="checkbox"></span>').on("click",function(){$(this).find("input").trigger("change")}),$radioBtnWrapper=$('<span class="radio"></span>').on("click",function(){$(this).find("input").trigger("change")}),$selectWrapper=$('<span class="select"></span>'),$selectIcon=$('<span class="select__icon"></span>');return{init:initialize}}(),YOI.component.Icon=function(){function initialize($icon){var $icon=YOI.createCollection("icon",$icon);$icon&&$icon.each(function(){if(YOI.isReady($(this)))return!1;replace($(this)),YOI.setReady($(this))})}function replace($icon){var $iconSvg,iconClassNames=$icon.attr("class"),source=$icon.attr("data")||$icon.attr("src");void 0!==source&&$.ajax({url:source,dataType:"text",success:function(data){$iconSvg=$(data).addClass(iconClassNames),$icon.replaceWith($iconSvg)}})}return{init:initialize,replace:replace}}(),YOI.component.ImgMagnifier=function(){function initialize($imgMagnifier,options){var $imgMagnifier=YOI.createCollection("imgmagnifier",$imgMagnifier,options);$imgMagnifier&&$imgMagnifier.each(function(){if(YOI.isReady($(this)))return!1;var $thisImgMagnifier=$(this),$thisCursor=$cursor.clone().fadeOut(0),$thisViewer=$viewer.clone().fadeOut(0);$thisImgMagnifier.append($thisCursor),$thisImgMagnifier.append($thisViewer),$thisImgMagnifier.find("a").on("click",function(e){e.preventDefault()}),$window.on("load",function(){$thisImgMagnifier.on("mouseenter",function(){startViewer($thisImgMagnifier)}).on("mouseleave",function(){stopViewer($thisImgMagnifier)}).on("mousemove",function(e){moveMagnifier($thisImgMagnifier,e)}),$window.on("resize",function(){YOI.clearDelay("imgMagnifierResetDelay"),YOI.setDelay("imgMagnifierResetDelay",500,function(){reset()})}),setViewer($thisImgMagnifier),setZoomImage($thisImgMagnifier)}),YOI.setReady($(this))})}function reset($imgMagnifier){$imgMagnifier instanceof jQuery||($imgMagnifier=$("[yoi-imgmagnifier]")),$imgMagnifier.each(function(){var $thisImgMagnifier=$(this);$thisImgMagnifier.data().props={yPos:$thisImgMagnifier.offset().top,xPos:$thisImgMagnifier.offset().left}})}function destroy($imgMagnifier){$imgMagnifier instanceof jQuery||($imgMagnifier=$(".imgMagnifier")),$imgMagnifier.each(function(){var $thisImgMagnifier=$(this);$thisImgMagnifier.find(".imgMagnifier__cursor").remove(),$thisImgMagnifier.find(".imgMagnifier__viewer").remove(),$thisImgMagnifier.off(),$thisImgMagnifier.find("*").off()})}function setZoomImage($thisImgMagnifier){var options=$thisImgMagnifier.data().options,thisZoomImagePath=options.zoomImage||$thisImgMagnifier.find("a").attr("href"),$thisViewer=$thisImgMagnifier.find(".imgMagnifier__viewer"),$thisPreviewImage=$thisImgMagnifier.find(".imgMagnifier__previewImage"),thisZoomImage=new Image;thisZoomImage.src=thisZoomImagePath,thisZoomImage.className="imgMagnifier__zoomImage";var $thisZoomImage=$(thisZoomImage);$thisZoomImage.on("error",function(){destroy($thisImgMagnifier)}).on("load",function(){$thisViewer.append($thisZoomImage),$thisImgMagnifier.data().props={width:$thisImgMagnifier.width(),height:$thisImgMagnifier.height(),yPos:$thisImgMagnifier.offset().top,xPos:$thisImgMagnifier.offset().left,yRatio:$thisPreviewImage.height()/thisZoomImage.height,xRatio:$thisPreviewImage.width()/thisZoomImage.width},setCursor($thisImgMagnifier),($thisImgMagnifier.data().props.yRatio>=1||$thisImgMagnifier.data().props.yRatio>=1)&&destroy($thisImgMagnifier)})}function setCursor($thisImgMagnifier){var $thisCursor=$thisImgMagnifier.find(".imgMagnifier__cursor"),$thisViewer=$thisImgMagnifier.find(".imgMagnifier__viewer"),thisCursorWith=$thisImgMagnifier.width()*$thisImgMagnifier.data().props.xRatio,thisCursorHeight=$thisImgMagnifier.height()*$thisImgMagnifier.data().props.yRatio;$thisCursor.css({width:thisCursorWith,height:thisCursorHeight}),$thisCursor.data().props={width:thisCursorWith,height:thisCursorHeight,yRatio:$thisViewer.height()/thisCursorHeight,xRatio:$thisViewer.width()/thisCursorWith}}function setViewer($thisImgMagnifier){$thisImgMagnifier.find(".imgMagnifier__viewer").css({width:$thisImgMagnifier.width(),height:$thisImgMagnifier.height(),left:$thisImgMagnifier.width(),marginLeft:20})}function startViewer($thisImgMagnifier){var $thisViewer=$thisImgMagnifier.find(".imgMagnifier__viewer"),$thisCursor=$thisImgMagnifier.find(".imgMagnifier__cursor"),options=$thisImgMagnifier.data().options,delay=options.delay||parseInt(options.delay)||defaultStartViewerDelayTime;YOI.setDelay("imgMagnifierDelay",delay,function(){$thisViewer.fadeIn(250),$thisCursor.fadeIn(100),$thisViewer.trigger("yoi-imgmagnifier-start")})}function stopViewer($thisImgMagnifier){YOI.clearDelay("imgMagnifierDelay");var $thisViewer=$thisImgMagnifier.find(".imgMagnifier__viewer"),$thisCursor=$thisImgMagnifier.find(".imgMagnifier__cursor");$thisViewer.fadeOut(50),$thisCursor.fadeOut(150),$thisViewer.trigger("yoi-imgmagnifier-stop")}function moveMagnifier($thisImgMagnifier,e){
var $thisCursor=$thisImgMagnifier.find(".imgMagnifier__cursor"),$thisZoomImage=$thisImgMagnifier.find(".imgMagnifier__zoomImage"),imgMagnifierProps=$thisImgMagnifier.data().props,cursorProps=$thisCursor.data().props,yPos=e.pageY-imgMagnifierProps.yPos-cursorProps.height/2,xPos=e.pageX-imgMagnifierProps.xPos-cursorProps.width/2,minY=yPos>0,maxY=yPos<imgMagnifierProps.height-cursorProps.height,minX=xPos>0,maxX=xPos<imgMagnifierProps.width-cursorProps.width;minY&&maxY&&$thisCursor.css("top",yPos),minX&&maxX&&$thisCursor.css("left",xPos),minY&&maxY&&$thisZoomImage.css("top",yPos*cursorProps.yRatio*-1),minX&&maxX&&$thisZoomImage.css("left",xPos*cursorProps.xRatio*-1)}var $window=$(window),$cursor=$('<div class="imgMagnifier__cursor"></div>'),$viewer=$('<div class="imgMagnifier__viewer"></div>'),defaultStartViewerDelayTime=250;return{init:initialize}}(),YOI.component.Log=function(){function write($log,logInput){if(void 0===$log||$log.length<1)return!1;void 0===$log.data().memory&&($log.data().memory=[]),$log.data().memory.unshift(logInput);var $logBody=$log.find(".log__body").first(),logMemory=$log.data().memory,logOutput="";$.each(logMemory,function(index,key){logOutput+='<p><span class="log__label">'+YOI.zeroPad(logMemory.length-index,3)+"</span>"+logMemory[index]+"</p>",$logBody.html(logOutput)})}function clear($log){if(void 0===$log||$log.length<1)return!1;$log.data().memory=[],$log.find(".log__body").first().html("<p></p>")}return{write:write,clear:clear}}(),YOI.component.MaxChars=function(){function initialize($inputElement,options){var $inputElement=YOI.createCollection("maxchars",$inputElement,options);$inputElement&&$inputElement.each(function(){if(YOI.isReady($(this)))return!1;var $thisInputElement=$(this);updateProps($thisInputElement),displayCharsLeft($thisInputElement),$thisInputElement.on("input",function(){updateInputElement($thisInputElement)}),YOI.setReady($(this))})}function updateProps($inputElement){var options=$inputElement.data().options;$inputElement.data().props={maxLength:parseInt($inputElement.attr("maxlength"))||parseInt(options.maxLength)||defaultMaxLength,display:options.display||!1,errorClassNames:options.errorClass||!1}}function updateInputElement($inputElement){var props=$inputElement.data().props,$displayElement=$(props.display),inputLength=$inputElement[0].value.length;inputLength>props.maxLength&&$inputElement.val($inputElement.val().slice(0,-1)),$displayElement.length&&(inputLength>=props.maxLength?($displayElement.addClass(props.errorClassNames),$inputElement.trigger("yoi-maxchars-reset")):$displayElement.removeClass(props.errorClassNames),displayCharsLeft($inputElement))}function displayCharsLeft($inputElement){var props=$inputElement.data().props,$displayElement=$(props.display),charsLeft=props.maxLength-$inputElement[0].value.length;$displayElement.length&&$displayElement.text(charsLeft)}function reset($inputElement){var props=$inputElement.data().props,$displayElement=$(props.display);$inputElement.val(""),$displayElement.text(props.maxLength),$displayElement.removeClass(props.errorClassNames),$inputElement.trigger("yoi-maxchars-reset")}var defaultMaxLength=200;return{init:initialize,reset:reset}}(),YOI.component.Modal=function(){function initialize($modalTrigger,options){var $modalTrigger=YOI.createCollection("modal",$modalTrigger,options);$modalTrigger&&!initialized&&prepareDom(),$modalTrigger&&$modalTrigger.each(function(index){if(YOI.isReady($(this)))return!1;var $thisModalTrigger=$(this),options=$thisModalTrigger.data().options,thisModalGenerate=options.generate||!1,thisModalTitle=options.title||"",thisModalBody=options.body||"",thisModalId=options.id||"#modal-"+index,thisModalModifiers=options.modifiers||!1,thisModalPath=options.path||$thisModalTrigger.attr("href");(options.cache||!1)&&load(thisModalId,thisModalPath),$thisModalTrigger.on("click",function(e){e.preventDefault(),"true"===thisModalGenerate?generate(thisModalTitle,thisModalBody,thisModalId,thisModalModifiers):show(thisModalId,thisModalPath)}),YOI.setReady($(this))}),initialized||initializeCloseTriggers(),initialized=!0}function prepareDom(){$body.append($modalCover.clone().hide()),$body.append($modalContainer.clone().hide()),domPrepared=!0}function foundModal(modalId){return-1!==loadedModals.indexOf(modalId)}function initializeCloseTriggers(modalId){var triggers;triggers=modalId?$(modalId).find('[yoi-action="closeModal"]'):$('[yoi-action="closeModal"]'),triggers.on("click",function(){closeAll()})}function generate(title,body,modalId,modifiers){var $thisModal=$modalTemplate.clone(),$thisModalTitle=$thisModal.find(".modal__title"),$thisModalBody=$thisModal.find(".modal__body"),thisModalId=modalId.split("#")[1];$thisModalTitle.text(title),$thisModalBody.html("<p>"+body+"</p>"),$thisModal.attr("id",thisModalId),modifiers&&$thisModal.addClass(modifiers),title||$thisModal.addClass("modal--simple"),foundModal(modalId)||($("#modalContainer").append($thisModal),loadedModals.push(modalId)),initializeCloseTriggers(modalId),show(modalId)}function load(modalId,modalPath,callback){if(!foundModal(modalId)){$("<div>").load(modalPath,function(response,status,xhr){if("success"===status){var $thisModal=$(this).find(".modal").first(),$images=$(this).find("img"),totalImages=$images.length,imageCounter=0;$thisModal.length?(loadedModals.push(modalId),$thisModal.attr("id",modalId.split("#")[1]),$thisModal.find(".modal__header").append($modalCloseBtn.clone()),$("#modalContainer").append($thisModal),$(modalId).hide(),initializeCloseTriggers(modalId),"function"==typeof callback&&callback(),$document.trigger("yoi-modal-load"),$images.on("load",function(){++imageCounter===totalImages&&$window.trigger("load")})):openFallbackLink(modalPath)}"error"===status&&$window.trigger("yoi-modal-error")})}}function show(modalId,modalPath){foundModal(modalId)?($("#modalCover").fadeIn("fast"),$("#modalContainer").show(),$(modalId).show(),modalActive=!0,center(modalId),YOI.environment("mobile")&&(scrollTop=$("body").scrollTop(),$("body").scrollTop(0)),$document.trigger("yoi-modal-show"),YOI.initialize()):load(modalId,modalPath,function(){show(modalId,modalPath)})}function center(modalId){var $modal=$(modalId),offSetY=$modal.height()/2*-1-10;$(window).height()-50<$modal.height()?($modal.css({top:"1rem",marginTop:"0",position:"absolute"}),$("html,body").animate({scrollTop:0},500)):$modal.css({top:"50%",marginTop:offSetY,position:"fixed"})}function closeAll(){$("#modalCover").fadeOut("fast"),$("#modalContainer, #modalContainer .modal").hide(),scrollTop>0&&$("body").scrollTop(scrollTop),modalActive=!1,YOI.foundModule("BrowserHistory")&&YOI.module.BrowserHistory.clearHash(),$document.trigger("yoi-modal-hide")}function openFallbackLink(modalPath){window.location=window.location.protocol+"//"+window.location.host+"/"+modalPath}var $body=$(document.body),$document=$(document),$window=$(window),modalActive=!1,loadedModals=[],scrollTop=!1,initialized=!1,language=YOI.locale(),localization={en:{btnLabelClose:"Close"},de:{btnLabelClose:"Schließen"}},$modalCover=$('        <div class="modal__cover" id="modalCover" yoi-action="closeModal"></div>    '),$modalContainer=$('        <div class="modal__container" id="modalContainer"></div>    '),$modalCloseBtn=$('        <button class="btnDismiss" yoi-action="closeModal">            <span class="hidden">'+localization[language].btnLabelClose+"</span>        </button>    "),$modalTemplate=$('        <div class="modal">            <div class="modal__header">                <h3 class="modal__title"></h3>                <button class="btnDismiss" yoi-action="closeModal">                    <span class="hidden">'+localization[language].btnLabelClose+'</span>                </button>            </div>            <div class="modal__body"></div>        </div>    ');return{init:initialize,show:show,close:closeAll}}(),YOI.component.PageRewind=function(){function initialize(){$body.is("[yoi-pagerewind]")&&!initialized&&($pageRewind=$('<a class="pageRewind" href="#">                    <span class="hidden">'+localization[language].labelTxt+"</span>                </a>"),$pageRewind.addClass("is--hidden").on("click",function(e){e.preventDefault(),run()}).appendTo($body),$window.scroll(function(){toggle()}),initialized=!0)}function run(){$pageRewind.trigger("yoi-pagerewind-start"),$("html,body").animate({scrollTop:0},500).promise().then(function(){$pageRewind.trigger("yoi-pagerewind-stop")})}function toggle(){$body.scrollTop()>=threshold?$pageRewind.removeClass("is--hidden"):$pageRewind.addClass("is--hidden")}var $pageRewind,$window=$(window),$body=$("body"),threshold=500,initialized=!1,language=YOI.locale(),localization={en:{labelTxt:"scroll back to top"},de:{labelTxt:"Zurück zum Seitenanfang"}};return{init:initialize,run:run}}(),YOI.component.PickBtn=function(){function initialize($pickBtn){var $pickBtn=YOI.createCollection("pickBtn",$pickBtn);$pickBtn&&$pickBtn.each(function(){if(YOI.isReady($(this)))return!1;var $thisPickBtn=$(this);$thisPickBtn.find('input[type="radio"]').hide(),$thisPickBtn.prepend($icon.clone()),$thisPickBtn.find("label").on("click",function(e){e.preventDefault()}),$thisPickBtn.on("click",function(e){e.preventDefault(),activate($thisPickBtn),$thisPickBtn.trigger("yoi-pickbtn-change")}),YOI.setReady($(this))})}function activate($thisPickBtn){var $icon=$thisPickBtn.find(".pickBtn__icon"),$radioInput=$thisPickBtn.find('input[type="radio"]'),groupName=$radioInput.attr("name");$('input[name="'+groupName+'"]').closest(".pickBtn").removeClass("is--active"),$('input[name="'+groupName+'"]').removeAttr("checked"),$('input[name="'+groupName+'"]').prop("checked",!1),$radioInput.prop("checked",!0),$radioInput.attr("checked","checked"),$thisPickBtn.addClass("is--active"),YOI.blink($icon)}var $icon=$('<span class="pickBtn__icon"></span>');return{init:initialize}}(),YOI.component.PieChart=function(){function initialize($pieChart,options){var $pieChart=YOI.createCollection("piechart",$pieChart,options);$pieChart&&$pieChart.each(function(){if(YOI.isReady($(this)))return!1;var $thisPieChart=$(this),$thisPieChartRecords=$thisPieChart.find(".pieChart__record"),$thisPieChartSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),options=$thisPieChart.data().options,size=void 0!==options.size?options.size:200,highlight=void 0===options.highlight||!0===options.highlight,palette=void 0!==options.palette?options.palette:"shades";$thisPieChart.data().props={rotation:0,index:0,records:$thisPieChartRecords.length,size:size};var size=$thisPieChart.data().props.size;$thisPieChartSvg.setAttribute("viewBox","0 0 "+size+" "+size),$($thisPieChartSvg).css({width:size,height:size}),$thisPieChart.prepend($thisPieChartSvg),$thisPieChartRecords.each(function(index){var $thisRecord=$(this),thisValue=$thisRecord.find(".pieChart__value").text();addChartData($thisPieChart,thisValue),$thisRecord.prepend($colorDot.clone()),highlight&&$thisRecord.on("mouseover",function(){YOI.clearDelay("pieChartHightlightDelay"),highlightRecord($thisRecord)}).on("mouseleave",function(){YOI.setDelay("pieChartHightlightDelay",500,function(){resetHighlightRecord($thisPieChart)})}).on("click",function(){blinkRecord($thisRecord)})}),"fixed"===palette&&setFixedSliceColors($thisPieChart),"random"===palette&&setRandomSliceColors($thisPieChart),"shades"===palette&&setSliceShades($thisPieChart),"unique"===palette&&setUniqueSliceColors($thisPieChart),YOI.setReady($(this))})}function setUniqueSliceColors($thisPieChart){for(var $thisPaths=$thisPieChart.find("path"),$thisCircles=$thisPieChart.find("circle"),$thisDots=$thisPieChart.find(".pieChart__dot"),options=$thisPieChart.data().options,props=$thisPieChart.data().props,totalSlices=props.records,baseColor="array"==typeof options.baseColor?JSON.parse(options.baseColor):[252,45,65],startRadius=baseColor[0],startSaturation=baseColor[1]+"%",startLuminance=baseColor[2]+"%",i=0;i<totalSlices;i++){var splitRadius=360/totalSlices*i,radius=splitRadius+startRadius>360?splitRadius+startRadius-360:splitRadius+startRadius;void 0!==$thisPaths[i]&&$thisPaths[i].setAttribute("fill","hsl("+radius+","+startSaturation+","+startLuminance+")"),void 0!==$thisCircles[i]&&$thisCircles[i].setAttribute("fill","hsl("+radius+","+startSaturation+","+startLuminance+")"),$thisDots.eq(i).css("background","hsl("+radius+","+startSaturation+","+startLuminance+")")}}function setRandomSliceColors($thisPieChart){for(var $thisPaths=$thisPieChart.find("path"),$thisCircles=$thisPieChart.find("circle"),$thisDots=$thisPieChart.find(".pieChart__dot"),totalSlices=$thisPieChart.data().props.records,i=0;i<totalSlices;i++){var randomColor="#"+("00000"+(Math.random()*(1<<24)|0).toString(16)).slice(-6);void 0!==$thisPaths[i]&&$thisPaths[i].setAttribute("fill",randomColor),void 0!==$thisCircles[i]&&$thisCircles[i].setAttribute("fill",randomColor),$thisDots.eq(i).css("background",randomColor)}}function setFixedSliceColors($thisPieChart){for(var $thisPaths=$thisPieChart.find("path"),$thisCircles=$thisPieChart.find("circle"),$thisDots=$thisPieChart.find(".pieChart__dot"),totalSlices=$thisPieChart.data().props.records,i=0;i<totalSlices;i++){var j=i;j>fixedPalette.length-1&&(j=1),void 0!==$thisPaths[i]&&$thisPaths[i].setAttribute("fill",fixedPalette[j]),void 0!==$thisCircles[i]&&$thisCircles[i].setAttribute("fill",fixedPalette[j]),$thisDots.eq(i).css("background",fixedPalette[j])}}function setSliceShades($thisPieChart){for(var $thisPaths=$thisPieChart.find("path"),$thisCircles=$thisPieChart.find("circle"),$thisDots=$thisPieChart.find(".pieChart__dot"),options=$thisPieChart.data().options,totalSlices=$thisPieChart.data().props.records,baseColor="object"==typeof options.baseColor?JSON.parse(options.baseColor):[252,45,65],startRadius=baseColor[0],startSaturation=baseColor[1]+"%",startLuminance=baseColor[2]+"%",splitLuminance=(100-parseInt(startLuminance))/totalSlices,i=0;i<totalSlices;i++){var luminance=parseInt(startLuminance)-splitLuminance*i;void 0!==$thisPaths[i]&&$thisPaths[i].setAttribute("fill","hsl("+startRadius+","+startSaturation+","+luminance+"%)"),void 0!==$thisCircles[i]&&$thisCircles[i].setAttribute("fill","hsl("+startRadius+","+startSaturation+","+luminance+"%)"),$thisDots.eq(i).css("background","hsl("+startRadius+","+startSaturation+","+luminance+"%)")}}function addChartData($thisPieChart,thisValue){var $thisPieSlice,size=parseInt($thisPieChart.data().props.size),radius=size/2,rotation=$thisPieChart.data().props.rotation,$thisPieChartSvg=$thisPieChart.find("svg");if(thisValue=parseInt(thisValue),(thisValue=Math.min(Math.max(thisValue,0),100))>=100)$thisPieSlice=document.createElementNS("http://www.w3.org/2000/svg","circle"),$thisPieSlice.setAttribute("r",radius),$thisPieSlice.setAttribute("cx",radius),$thisPieSlice.setAttribute("cy",radius);else{$thisPieSlice=document.createElementNS("http://www.w3.org/2000/svg","path");var x=Math.cos(2*Math.PI/(100/thisValue)),y=Math.sin(2*Math.PI/(100/thisValue)),longArc=thisValue<=50?0:1,d="M"+radius+","+radius+" L"+radius+",0, A"+radius+","+radius+" 0 "+longArc+",1 "+(radius+y*radius)+","+(radius-x*radius)+" z";$thisPieSlice.setAttribute("d",d),$thisPieSlice.setAttribute("transform","rotate("+360/(100/rotation)+" "+radius+" "+radius+")"),$thisPieChart.data().props.rotation+=thisValue,$thisPieChart.data().props.index+=1}$thisPieChartSvg.append($thisPieSlice)}function highlightRecord($thisRecord){var thisIndex=$thisRecord.index(),$slices=$thisRecord.closest(".pieChart").find("svg path");$thisRecord.siblings().fadeTo(0,.4),$thisRecord.fadeTo(0,1),$slices.fadeTo(0,.15),$slices.eq(thisIndex).fadeTo(0,1)}function blinkRecord($thisRecord){var thisIndex=$thisRecord.index(),$slices=$thisRecord.closest(".pieChart").find("svg path");YOI.blink($slices.eq(thisIndex))}function resetHighlightRecord($thisPieChart){var $slices=$thisPieChart.find("svg path"),$thisRecords=$thisPieChart.find(".pieChart__record");$slices.fadeTo(300,1),$thisRecords.fadeTo(300,1)}var $colorDot=$('<span class="pieChart__dot"></span>'),fixedPalette=["#ff9269","#df3d00","#5d4a97","#417db3","#629278","#e4dea0","#89c5fb","#676665"];return{init:initialize,highlightRecord:highlightRecord,blinkRecord:blinkRecord,resetHighlightRecord:resetHighlightRecord}}(),YOI.component.PopOver=function(){function initialize($popOverTrigger,options){var $popOverTrigger=YOI.createCollection("popover",$popOverTrigger,options);$popOverTrigger&&$popOverTrigger.each(function(){if(YOI.isReady($(this)))return!1;var $thisPopOverTrigger=$(this),options=$thisPopOverTrigger.data().options;if(void 0===options.target||$(options.target).length<1)return!1;var $thisPopOver=$(options.target).detach();$("body").append($thisPopOver);var validEvents=["click","dblclick","contextmenu","mouseover","mouseout","mousedown","mouseup","mouseenter","mouseleave"],preventDefaultClick=options.preventDefaultClick||!0,eventShow=$.inArray(options.on,validEvents)>-1?options.on:"mouseenter";!0!==preventDefaultClick&&"true"!==preventDefaultClick||$thisPopOverTrigger.on("click",function(e){e.preventDefault()}),$thisPopOverTrigger.on(eventShow,function(e){hideAll(),removeToggleClass(),show($thisPopOverTrigger,$thisPopOver)}).on("mouseleave",function(e){YOI.clearInterval("popOverShowTimeout"),hide($thisPopOverTrigger,$thisPopOver)}),$thisPopOver.on("mouseenter",function(){YOI.clearInterval("popOverHideTimeout")}).on("mouseleave",function(){hide($thisPopOverTrigger,$thisPopOver)}),YOI.setReady($(this))}),$(".popOver").each(function(){var $thisPopOver=$(this);$thisPopOver.data({width:$thisPopOver.outerWidth(),height:$thisPopOver.outerHeight()}).hide()})}function show($thisPopOverTrigger,$thisPopOver){YOI.setDelay("popOverShowTimeout",100,function(){var options=$thisPopOverTrigger.data().options;void 0!==options.toggleClass&&$thisPopOverTrigger.addClass(options.toggleClass),setPosition($thisPopOverTrigger,$thisPopOver),$thisPopOver.fadeIn(100),$thisPopOverTrigger.trigger("yoi-popover-show")})}function hide($thisPopOverTrigger,$thisPopOver){YOI.setDelay("popOverHideTimeout",500,function(){$thisPopOver.hide(),removeToggleClass(),$thisPopOverTrigger.trigger("yoi-popover-hide")})}function hideAll(){$("[yoi-popover]").each(function(){var $thisPopOverTrigger=$(this),options=$thisPopOverTrigger.data().options;if(void 0!==options.toggleClass){var cssClassName=options.toggleClass;$thisPopOverTrigger.removeClass(cssClassName)}}),YOI.clearInterval("popOverHideTimeout"),$(".popOver").hide()}function setPosition($thisPopOverTrigger,$thisPopOver){var options=$thisPopOverTrigger.data().options,pos=void 0!==options.pos?options.pos:"tr",ref=void 0!==options.ref?options.ref:"tl";switch(pos){case"tl":$thisPopOver.css({left:$thisPopOverTrigger.offset().left+"px",top:$thisPopOverTrigger.offset().top+"px"});break;case"tr":$thisPopOver.css({left:$thisPopOverTrigger.offset().left+$thisPopOverTrigger.outerWidth()+"px",top:$thisPopOverTrigger.offset().top+"px"});break;case"br":$thisPopOver.css({left:$thisPopOverTrigger.offset().left+$thisPopOverTrigger.outerWidth()+"px",top:$thisPopOverTrigger.offset().top+$thisPopOverTrigger.outerHeight()+"px"});break;case"bl":$thisPopOver.css({left:$thisPopOverTrigger.offset().left+"px",top:$thisPopOverTrigger.offset().top+$thisPopOverTrigger.outerHeight()+"px"})}switch(ref){case"tl":$thisPopOver.css({marginLeft:0,marginTop:0});break;case"tr":$thisPopOver.css({marginLeft:-1*$thisPopOver.data().width+"px",marginTop:0});break;case"br":$thisPopOver.css({marginLeft:-1*$thisPopOver.data().width+"px",marginTop:-1*$thisPopOver.data().height+"px"});break;case"bl":$thisPopOver.css({marginLeft:0,marginTop:-1*$thisPopOver.data().height+"px"})}}function removeToggleClass($popOverTrigger){$popOverTrigger instanceof jQuery||($popOverTrigger=$("[yoi-popover]")),$popOverTrigger.each(function(){var $thisPopOverTrigger=$(this),options=$thisPopOverTrigger.data().options;void 0!==options.toggleClass&&$thisPopOverTrigger.removeClass(options.toggleClass)})}return $document=$(document),{init:initialize,hideAll:hideAll}}(),YOI.component.RangeInput=function(){function initialize($rangeInput,options){var $rangeInput=YOI.createCollection("rangeinput",$rangeInput,options);$rangeInput&&$rangeInput.each(function(){if(YOI.isReady($(this)))return!1;var $thisMinKnob,$thisMaxKnob,$singleLabel,$thisTrack,$thisRangeInput=$(this),options=$thisRangeInput.data().options;rangeInputKnob.on("mousedown",function(e){var $thisKnob=$(this),$thisRangeInput=$(this).closest(".rangeInput");storeCursorPos($thisRangeInput,$thisKnob,e.pageX),$document.on("mousemove",function(e){$body.addClass("noSelect"),$thisKnob.addClass("rangeInput__knob--active"),$thisRangeInput.addClass("is--active"),moveKnob($thisRangeInput,$thisKnob,e)}).on("mouseup",function(e){$body.removeClass("noSelect"),$thisKnob.removeClass("rangeInput__knob--active"),$thisRangeInput.removeClass("is--active"),$document.off("mousemove mouseup")})}).on("mouseover",function(){var $thisKnob=$(this);$thisKnob.siblings(".rangeInput__knob").removeClass("rangeInput__knob--topMost"),$thisKnob.addClass("rangeInput__knob--topMost")}),$thisMinKnob=rangeInputKnob.clone("true").addClass("rangeInput__knob--min").append(rangeInputLabel.clone()),$thisMaxKnob=rangeInputKnob.clone("true").addClass("rangeInput__knob--max").append(rangeInputLabel.clone()),$singleLabel=rangeInputLabel.clone().addClass("rangeInput__label--single"),$thisTrack=rangeInputTrack.clone(),$thisRangeInput.append($thisMinKnob,$thisMaxKnob,$singleLabel,$thisTrack),$thisRangeInput.data().props={absMin:options.absMin||0,absMax:options.absMax||100,min:options.min||options.absMin||0,max:options.max||options.absMax||100,minValue:null,maxValue:null,unit:options.unit||"",offsetX:Math.floor($thisTrack.offset().left),minPosX:null,maxPosX:null,cursorPosX:0,width:$thisTrack.width()},knobOffset=$thisRangeInput.find(".rangeInput__knob").first().outerWidth()/2,set($thisRangeInput,$thisRangeInput.data().props.absMin,$thisRangeInput.data().props.absMax,$thisRangeInput.data().props.min,$thisRangeInput.data().props.max),YOI.setReady($(this))})}function set($rangeInput,absMin,absMax,min,max){var $thisRangeInput=$rangeInput,$thisMinKnob=$thisRangeInput.find(".rangeInput__knob--min"),$thisMaxKnob=$thisRangeInput.find(".rangeInput__knob--max"),thisProps=$thisRangeInput.data().props;thisProps.absMin=absMin,thisProps.absMax=absMax,thisProps.min=min,thisProps.max=max,moveKnob($thisRangeInput,$thisMinKnob),moveKnob($thisRangeInput,$thisMaxKnob),$rangeInput.trigger("yoi-rangeinput-change")}function reset($rangeInput){var $thisRangeInput=$rangeInput,thisProps=$thisRangeInput.data().props,$thisMinKnob=$thisRangeInput.find(".rangeInput__knob--min"),$thisMaxKnob=$thisRangeInput.find(".rangeInput__knob--max"),thisAbsMin=props.absMin,thisAbsMax=props.absMax;thisProps.min=thisAbsMin,thisProps.max=thisAbsMax,moveKnob($thisRangeInput,$thisMinKnob),moveKnob($thisRangeInput,$thisMaxKnob),$rangeInput.trigger("yoi-rangeinput-reset")}function adjustLabels($rangeInput){var minKnobRightEdge,maxKnobLeftEdge,$thisRangeInput=$rangeInput,$thisMinLabel=$thisRangeInput.find(".rangeInput__knob--min .rangeInput__label"),$thisMaxLabel=$thisRangeInput.find(".rangeInput__knob--max .rangeInput__label"),$thisSingleLabel=$thisRangeInput.find(".rangeInput__label--single"),props=$thisRangeInput.data().props;$thisMinLabel.text(props.min+" "+props.unit),$thisMaxLabel.text(props.max+" "+props.unit),$thisSingleLabel.text(props.minValue+props.unit+" – "+props.maxValue+" "+props.unit);var minLabelWidth=$thisMinLabel.outerWidth(),maxLabelWidth=$thisMaxLabel.outerWidth(),singleLabelWidth=$thisSingleLabel.outerWidth();$thisMinLabel.css("left",minLabelWidth/-2+knobOffset),$thisMaxLabel.css("left",maxLabelWidth/-2+knobOffset),$thisSingleLabel.css("left",props.minPosX+(props.maxPosX-props.minPosX)/2-singleLabelWidth/2),null!==props.minPosX&&null!==props.maxPosX&&(minKnobRightEdge=props.minPosX+minLabelWidth/2,maxKnobLeftEdge=props.maxPosX-maxLabelWidth/2,minKnobRightEdge>=maxKnobLeftEdge?$thisRangeInput.addClass("rangeInput--mergedLabels"):$thisRangeInput.removeClass("rangeInput--mergedLabels"))}function storeCursorPos($rangeInput,$knob,ePosX){var props=$rangeInput.data().props;$knob.hasClass("rangeInput__knob--min")&&(Math.floor(ePosX-props.offsetX),props.minPosX),$knob.hasClass("rangeInput__knob--max")&&(Math.floor(ePosX-props.offsetX),props.maxPosX)}function moveKnob($rangeInput,$knob,e){if($rangeInput.data().props.absMin>=$rangeInput.data().props.absMax)return!1;var factor,inputValue,range,$thisRangeInput=$rangeInput,$thisKnob=$knob,$thisMinInput=$thisRangeInput.find('input[name="min"]'),$thisMaxInput=$thisRangeInput.find('input[name="max"]'),props=$thisRangeInput.data().props,isMinKnob=$thisKnob.hasClass("rangeInput__knob--min"),isMaxKnob=$thisKnob.hasClass("rangeInput__knob--max"),posX=0,thisKnobValue=null;void 0!==e?(props.cursorOffset>0&&(e.pageX=e.pageX-props.cursorOffset),props.cursorOffset<0&&(e.pageX=e.pageX+-1*props.cursorOffset),posX=Math.floor(Math.min(Math.max(0,e.pageX-props.offsetX),props.width)),factor=Math.floor(posX/props.width*100),thisKnobValue=Math.floor((props.absMax-props.absMin)/100*factor+1*props.absMin),$thisRangeInput.trigger("yoi-rangeinput-change")):(isMinKnob&&(inputValue=props.min),isMaxKnob&&(inputValue=props.max),range=props.absMax-props.absMin,factor=Math.ceil(props.width/range),posX=factor*(inputValue-props.absMin),thisKnobValue=inputValue),isMinKnob&&(void 0!==e&&(props.min=thisKnobValue),props.min<props.max&&($thisRangeInput.find(".rangeInput__range").css("left",posX),$thisMinInput.val(thisKnobValue),props.minPosX=posX,props.minValue=thisKnobValue)),isMaxKnob&&(void 0!==e&&(props.max=thisKnobValue),props.min<props.max&&($thisRangeInput.find(".rangeInput__range").css("right",props.width-posX),$thisMaxInput.val(thisKnobValue),props.maxPosX=posX,props.maxValue=thisKnobValue)),props.min<props.max&&($thisKnob.css("left",posX-knobOffset),adjustLabels($thisRangeInput))}var knobOffset,$document=$(document),$body=$("body"),rangeInputKnob=$('        <div class="rangeInput__knob"></div>    '),rangeInputLabel=$('        <span class="rangeInput__label"></span>    '),rangeInputTrack=$('        <div class="rangeInput__track">            <div class="rangeInput__range"></div>        </div>    ');return{init:initialize,set:set,reset:reset}}(),YOI.component.RatingInput=function(){function initialize($ratingInput,options){var $ratingInput=YOI.createCollection("ratinginput",$ratingInput,options);$ratingInput&&$ratingInput.each(function(){if(YOI.isReady($(this)))return!1;var $thisRatingInput=$(this),$thisRatingSelect=$ratingSelect.clone(),$thisRatingStars=$thisRatingSelect.find(".ratingInput__star");setScore($thisRatingInput),$thisRatingInput.hasClass("ratingInput--locked")&&($thisRatingInput.data().state="locked"),$thisRatingStars.on("mouseover",function(){setScore($thisRatingInput,$(this).index()+1)}).on("click",function(){submitScore($thisRatingInput),lock($thisRatingInput)}),$thisRatingInput.append($thisRatingSelect),YOI.setReady($(this))})}function lock($ratingInput){$ratingInput.addClass("ratingInput--locked"),$ratingInput.data().state="locked",$ratingInput.trigger("yoi-rating-lock")}function unlock($ratingInput){$ratingInput.removeClass("ratingInput--locked"),$ratingInput.data().state="unlocked",$ratingInput.trigger("yoi-rating-unlock")}function setScore($ratingInput,score){var options=$ratingInput.data().options,state=$ratingInput.data().state,score=score||options.score||getScoreFromModifier($ratingInput)||0;"locked"!==state&&($ratingInput.data().options.score=score,$ratingInput.removeClass("ratingInput--rated-1 ratingInput--rated-2 ratingInput--rated-3 ratingInput--rated-4 ratingInput--rated-5"),$ratingInput.addClass("ratingInput--rated-"+score),$ratingInput.trigger("yoi-rating-change"))}function getScoreFromModifier($ratingInput){var score=null;return $ratingInput.hasClass("ratingInput--rated-1")&&(score=1),$ratingInput.hasClass("ratingInput--rated-2")&&(score=2),$ratingInput.hasClass("ratingInput--rated-3")&&(score=3),$ratingInput.hasClass("ratingInput--rated-4")&&(score=4),$ratingInput.hasClass("ratingInput--rated-5")&&(score=5),score}function submitScore($ratingInput){$ratingInput.trigger("yoi-rating-submit")}var $ratingSelect=$('        <span class="ratingInput__select">            <span class="ratingInput__star"></span>            <span class="ratingInput__star"></span>            <span class="ratingInput__star"></span>            <span class="ratingInput__star"></span>            <span class="ratingInput__star"></span>        </span>    ');return{init:initialize,lock:lock,unlock:unlock,set:setScore}}(),YOI.component.ScrollKeys=function(){function initialize(){if($body.is("[yoi-scrollkeys]")&&!initialized){var options=YOI.toObject($body.attr("yoi-scrollkeys")),position=options.position||"br";offset=options.offset||offset,$hooks=$(options.hooks).length?$(options.hooks):$hooks,totalHooks=$hooks.length,detectCurrentHook(),addKeyboardEvents(),$scrollButtons.addClass("pos-fixed-"+position),$body.append($scrollButtons),YOI.component.Icon.init(),$("#scrollButtons").find(".btn").eq(0).on("click",function(e){e.preventDefault(),scrollToHook("prev")}),$("#scrollButtons").find(".btn").eq(1).on("click",function(e){e.preventDefault(),scrollToHook("next")}),initialized=!0}}function scrollToHook(direction){if(!$hooks)return!1;setCurrentHook(direction),$.when($body.stop().animate({scrollTop:$hooks.eq(currentHook).offset().top-offset},scrollSpeed)).done(function(){$document.trigger("yoi-scrollKeys-"+direction)})}function addKeyboardEvents(){YOI.foundModule("KeyboardAgent")&&!keyboardEventsAdded&&$document.on("yoi-keypressed-arrowleft",function(){YOI.noFocus()&&(scrollToHook("prev"),highlightBtn("prev"))}).on("yoi-keypressed-arrowright",function(){YOI.noFocus()&&(scrollToHook("next"),highlightBtn("next"))}).on("yoi-focus-change",function(){YOI.noFocus()?$scrollButtons.stop().fadeIn():$scrollButtons.stop().fadeOut()}),keyboardEventsAdded=!0}function highlightBtn(direction){if(!direction)return!1;var btnIndex;"prev"===direction&&(btnIndex=0),"next"===direction&&(btnIndex=1);var $btn=$("#scrollButtons").find(".btn").eq(btnIndex);$btn.addClass("is--active"),YOI.setDelay("highlightScrollKeyDelay",200,function(){$btn.removeClass("is--active")})}function setCurrentHook(direction){"prev"===direction&&--currentHook<0&&(currentHook=0),"next"===direction&&++currentHook===totalHooks&&(currentHook=totalHooks-1)}function detectCurrentHook(){if(!$hooks)return!1;$window.on("yoi-scroll-stop",function(){$hooks.each(function(index){if($(this).offset().top+offset>$body.scrollTop())return currentHook=index,!1}),$body.scrollTop()<$hooks.eq(0).offset().top-offset&&(currentHook=-1)})}var totalHooks,initialized=!1,keyboardEventsAdded=!1,$window=$(window),$body=$("body"),currentHook=-1,scrollSpeed=200,offset=20,$hooks=$("h1, h2, h3, h4, h5, h6"),language=YOI.locale(),localization={en:{prev:"jump to previous mark",next:"jump to next mark"},de:{prev:"zur letzten Sprungmarke",next:"zum nächsten Sprungmarke"}},$scrollButtons=$('        <div id="scrollButtons" class="btns sh-4 m-4">            <button class="btn btn--large">                <span class="hidden">'+localization[language].prev+'</span>                <img class="icon" src="http://cdn.yoshino.digital/svg.php?id=icon-008-s" yoi-icon />            </button>            <button class="btn btn--large">                <span class="hidden">'+localization[language].next+'</span>                <img class="icon" src="http://cdn.yoshino.digital/svg.php?id=icon-007-s" yoi-icon />            </button>        </div>    ');return{init:initialize}}(),YOI.component.ScrollProgress=function(){function initialize(){if($body.is("[yoi-scrollprogress]")&&!initialized){var options=YOI.toObject($body.attr("yoi-scrollprogress"));visibleScrollProgress=YOI.toBoolean(options.visible),visibleScrollProgress&&($scrollProgressBar=$('                    <div class="scrollProgress">                        <div class="scrollProgress__track"></div>                    </div>                '),
$body.append($scrollProgressBar),$scrollProgressBar=$(".scrollProgress__track").first()),$window.on("load scroll resize",function(){update()}),initialized=!0}}function update(){documentHeight=$document.height(),windowHeight=$window.height(),totalScroll=documentHeight-windowHeight,scrollPosition=$("body").scrollTop(),scrollProgress=scrollPosition/(totalScroll/100),scrollProgress>100&&windowHeight>documentHeight?scrollProgress=100:scrollProgress<0&&(scrollProgress=0),visibleScrollProgress&&$scrollProgressBar.css("width",scrollProgress+"%"),0===scrollProgress&&$window.trigger("yoi-scroll-0"),scrollProgress>24&&scrollProgress<30&&$window.trigger("yoi-scroll-25"),scrollProgress>49&&scrollProgress<55&&$window.trigger("yoi-scroll-50"),scrollProgress>74&&scrollProgress<80&&$window.trigger("yoi-scroll-75"),scrollProgress>99&&$window.trigger("yoi-scroll-100")}var $scrollProgressBar,documentHeight,windowHeight,totalScroll,scrollPosition,scrollProgress,visibleScrollProgress,$window=$(window),$document=$(document),$body=$("body"),initialized=!1;return{init:initialize}}(),YOI.component.Slider=function(){function initialize($slider,options){var $slider=YOI.createCollection("slider",$slider,options);$slider&&$slider.each(function(sliderIndex){if(YOI.isReady($(this)))return!1;var $thisSlider=$(this),$thisSlides=$thisSlider.find(".slider__slide");$thisSlider.data().props={index:sliderIndex,slideIndex:0,totalSlides:$thisSlides.length};var totalSlides=$thisSlider.data().props.totalSlides,options=$thisSlider.data().options;if(void 0!==options.transition&&$window.on("load resize",function(){adjustHeight($thisSlider)}),$thisSlides.hide().first().show(),void 0!==options.control){var thisControls=$(slideControls[options.control]).clone();if($thisSlider.append(thisControls),$thisSlider.find('[class*="btnNext"]').on("click",function(e){e.preventDefault(),stopAutoplay($thisSlider),showSlide($thisSlider,"next")}),$thisSlider.find('[class*="btnPrev"]').on("click",function(e){e.preventDefault(),stopAutoplay($thisSlider),showSlide($thisSlider,"prev")}),$thisSlider.find(".pageBtns__totalPages").text(totalSlides),-1!==options.control.indexOf("pageDots")){for(var i=0;i<totalSlides;i++)$('<a class="pageDots__dot"><span class="hidden">'+(i+1)+"</span></a>").insertBefore($(this).find(".pageDots__btnNext"));paginationLinks=$thisSlider.find('.pageDots a:not([class*="btn"])'),paginationLinks.first().addClass("is--active"),paginationLinks.on("click",function(e){e.preventDefault(),stopAutoplay($thisSlider);var linkIndex;linkIndex=$thisSlider.parent().find(".pageDots__btnPrev").length?$thisSlider.index()-1:$thisSlider.index(),showSlide($thisSlider,linkIndex)})}}options.clickable&&$thisSlides.not("a").on("tap",function(e){e.preventDefault(),stopAutoplay($thisSlider),showSlide($thisSlider,"next")}),void 0!==options.autoplay&&startAutoplay($thisSlider),YOI.setReady($(this))}),keyboardEventsAdded||addKeyboardEvents()}function showSlide($thisSlider,target){var $thisSlides=$thisSlider.find(".slider__slide"),props=$thisSlider.data().props,options=$thisSlider.data().options,totalSlides=props.totalSlides,slideIndex=props.slideIndex,direction=!1;"next"===target||void 0===target?(slideIndex=slideIndex!==totalSlides-1?slideIndex+1:0,direction=">"):"prev"===target?(slideIndex=0===slideIndex?totalSlides-1:slideIndex-1,direction="<"):"number"==typeof target&&(slideIndex=target),void 0!==options.transition?applyTransition($thisSlider,slideIndex,direction):($thisSlides.hide(),$thisSlides.eq(slideIndex).show()),updatePagination($thisSlider,slideIndex),$thisSlider.data().props.slideIndex=slideIndex,$thisSlider.trigger("yoi-slider-change")}function applyTransition($thisSlider,nextSlideIndex,direction){var leftOffset,$thisSlides=$thisSlider.find(".slider__slide"),options=$thisSlider.data().options,currentSlideIndex=$thisSlider.data().props.slideIndex;switch(direction){case"<":leftOffset="-100%";break;case">":leftOffset="100%"}"animate"===options.transition?$thisSlides.is(":animated")||($thisSlides.eq(currentSlideIndex).css({"z-index":"10"}).stop().animate({left:leftOffset},300,function(){$(this).css({left:"0",opacity:0,"z-index":"1"})}),$thisSlides.eq(nextSlideIndex).css({opacity:"1","z-index":"2"}).show()):"fade"===options.transition&&$thisSlides.eq(currentSlideIndex).stop().fadeOut(100,function(){$thisSlides.eq(nextSlideIndex).fadeIn(300)})}function startAutoplay($slider){var options=$slider.data().options,sliderIndex=$slider.data().props.index,intervalName="slideAutoplay-"+sliderIndex;YOI.setInterval(intervalName,options.autoplay,function(){showSlide($slider)}),$slider.trigger("yoi-slider-autoplaystart")}function stopAutoplay($slider){var sliderIndex=$slider.data().props.index,intervalName="slideAutoplay-"+sliderIndex;YOI.clearInterval(intervalName),$slider.trigger("yoi-slider-autoplaystop")}function updatePagination($thisSlider,thisSlideIndex){paginationLinks=$thisSlider.find('.pageDots a:not([class*="btn"])'),paginationLinks.removeClass("is--active"),paginationLinks.eq(thisSlideIndex).addClass("is--active"),$thisSlider.find(".pageBtns__currentPage").text(thisSlideIndex+1)}function adjustHeight($thisSlider){for(var $thisSlides=$thisSlider.find(".slider__slide"),$thisSlidesWrapper=$thisSlider.find(".slider__slides"),slideHeight=0,i=0;i<$thisSlides.length;i++){var thisSlideHeight=$thisSlides.eq(i).outerHeight();slideHeight=thisSlideHeight>slideHeight?thisSlideHeight:slideHeight,$thisSlidesWrapper.css({height:slideHeight})}$thisSlidesWrapper.css({height:slideHeight})}function addKeyboardEvents(){YOI.foundModule("KeyboardAgent")&&!keyboardEventsAdded&&(YOI.module.KeyboardAgent.addTabFocus($("[yoi-slider]")),$document.on("yoi-keypressed-arrowleft",function(){var $activeElement=$(document.activeElement);$activeElement.is("[yoi-slider]")&&(showSlide($activeElement,"prev"),stopAutoplay($activeElement))}),$document.on("yoi-keypressed-arrowright",function(){var $activeElement=$(document.activeElement);$activeElement.is("[yoi-slider]")&&(showSlide($activeElement,"next"),stopAutoplay($activeElement))})),keyboardEventsAdded=!0}var $document=$(document),$window=$(window),keyboardEventsAdded=!1,language=YOI.locale(),localization={en:{btnLabelNext:"next",btnLabelPrev:"previous"},de:{btnLabelNext:"weiter",btnLabelPrev:"zurück"}},slideControls={"pageBtns--tl":$('            <div class="pageBtns pageBtns--tl">                <button class="pageBtns__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </button>                <span class="pageBtns__indicator">                    <span class="pageBtns__currentPage">1</span> / <span class="pageBtns__totalPages">1</span>                </span>                <button class="pageBtns__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </button>            </div>        "),"pageBtns--tr":$('            <div class="pageBtns pageBtns--tr">                <button class="pageBtns__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </button>                <span class="pageBtns__indicator">                    <span class="pageBtns__currentPage">1</span> / <span class="pageBtns__totalPages">1</span>                </span>                <button class="pageBtns__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </button>            </div>        "),"pageBtns--br":$('            <div class="pageBtns pageBtns--br">                <button class="pageBtns__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </button>                <span class="pageBtns__indicator">                    <span class="pageBtns__currentPage">1</span> / <span class="pageBtns__totalPages">1</span>                </span>                <button class="pageBtns__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </button>            </div>        "),"pageBtns--bl":$('            <div class="pageBtns pageBtns--bl">                <button class="pageBtns__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </button>                <span class="pageBtns__indicator">                    <span class="pageBtns__currentPage">1</span> / <span class="pageBtns__totalPages">1</span>                </span>                <button class="pageBtns__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </button>            </div>        "),flipBtns:$('            <div class="flipBtns">                <a class="flipBtns__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </a>                <a class="flipBtns__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </a>            </div>        "),"flipBtns--inset":$('            <div class="flipBtns flipBtns--inset">                <a class="flipBtns__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </a>                <a class="flipBtns__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </a>            </div>        "),pageDots:$('            <div class="pageDots">                <a class="pageDots__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </a>                <a class="pageDots__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </a>            </div>        "),"pageDots--dark":$('            <div class="pageDots pageDots--dark">                <a class="pageDots__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </a>                <a class="pageDots__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </a>            </div>        "),"pageDots--subtle":$('            <div class="pageDots pageDots--subtle">                <a class="pageDots__btnPrev">                    <span class="hidden">'+localization[language].btnLabelPrev+'</span>                </a>                <a class="pageDots__btnNext">                    <span class="hidden">'+localization[language].btnLabelNext+"</span>                </a>            </div>        ")};return{init:initialize,show:showSlide,start:startAutoplay,stop:stopAutoplay}}(),YOI.component.Stepper=function(){function initialize($stepper,options){var $stepper=YOI.createCollection("stepper",$stepper,options);$stepper&&$stepper.each(function(){if(YOI.isReady($(this)))return!1;var $thisStepper=$(this);$thisStepper.prepend($stepperBtns.clone());var eventType=YOI.environment("mobile")?"tap":"click";$thisStepper.find(".stepper__btnPlus").on(eventType,function(e){e.preventDefault(),increaseItemCount($thisStepper)}),$thisStepper.find(".stepper__btnMinus").on(eventType,function(e){e.preventDefault(),decreaseItemCount($thisStepper)}),$thisStepper.find(".stepper__input").blur(function(){validateInput($thisStepper)}),YOI.setReady($(this))})}function increaseItemCount($stepper){if(validateInput($stepper),"error"===$stepper.data().state)return!1;var currentValue=$stepper.find(".stepper__input")[0].value;currentValue>=0&&(currentValue++,$stepper.find("input")[0].value=currentValue),$stepper.trigger("yoi-stepper-up")}function decreaseItemCount($stepper){if(validateInput($stepper),"error"===$stepper.data().state)return!1;var currentValue=$stepper.find(".stepper__input")[0].value;currentValue>1&&(currentValue--,$stepper.find("input")[0].value=currentValue),$stepper.trigger("yoi-stepper-down")}function resetItemCount($stepper){setItemCount($stepper,1),removeErrorFormatting($stepper),$stepper.trigger("yoi-stepper-reset")}function clearItemCount($stepper){setItemCount($stepper,0),removeErrorFormatting($stepper),$stepper.trigger("yoi-stepper-clear")}function setItemCount($stepper,val){YOI.isNumber(val)&&(removeErrorFormatting($stepper),$stepper.find(".stepper__input")[0].value=val,$stepper.trigger("yoi-stepper-change"))}function validateInput($stepper){var inputVal=$stepper.find(".stepper__input")[0].value;YOI.isNumber(inputVal)?(removeErrorFormatting($stepper),$stepper.trigger("yoi-stepper-valid")):(addErrorFormatting($stepper),$stepper.trigger("yoi-stepper-invalid"))}function addErrorFormatting($stepper){$stepper.find(".stepper__input").addClass("input--negative"),$stepper.data().state="error"}function removeErrorFormatting($stepper){$stepper.find(".stepper__input").removeClass("input--negative"),$stepper.data().state=""}var language=YOI.locale(),localization={en:{btnLabelMore:"more",btnLabelLess:"less"},de:{btnLabelMore:"mehr",btnLabelLess:"weniger"}},$stepperBtns=$('        <div class="stepper__btnPlus">            <span class="stepper__iconPlus"></span>            <span class="hidden">'+localization[language].btnLabelMore+'</span>        </div>        <div class="stepper__btnMinus">            <span class="stepper__iconMinus"></span>            <span class="hidden">'+localization[language].btnLabelLess+"</span>        </div>    ");return{init:initialize,countUp:increaseItemCount,countDown:decreaseItemCount,reset:resetItemCount,clear:clearItemCount,setTo:setItemCount}}(),YOI.component.Switch=function(){function initialize($switch,options){var $switch=YOI.createCollection("switch",$switch,options);$switch&&$switch.each(function(){if(YOI.isReady($(this)))return!1;var $thisSwitch=$(this),options=$thisSwitch.data().options,state=void 0!==options.state?options.state:"off";thisLabelOnText=void 0!==options.labelOn?options.labelOn:localization[language].labelOn,thisLabelOffText=void 0!==options.labelOff?options.labelOff:localization[language].labelOff,$thisSwitch.append($knob.clone()),options.showLabels&&($thisSwitch.append($labelOn.clone().text(thisLabelOnText),$labelOff.clone().text(thisLabelOffText)),$thisSwitch.addClass("switch--labeled")),"on"===state&&setOn($thisSwitch),"off"===state&&setOff($thisSwitch),$thisSwitch.on("click",function(e){setToggle($thisSwitch)}),YOI.setReady($(this))})}function setOn($switch){$switch.removeClass("switch--off").addClass("switch--on"),$switch.find('input[type="checkbox"]').first().attr("checked",!0),$switch.trigger("yoi-switch-on")}function setOff($switch){$switch.removeClass("switch--on").addClass("switch--off"),$switch.find('input[type="checkbox"]').first().attr("checked",!1),$switch.trigger("yoi-switch-off")}function setToggle($switch){$switch.hasClass("switch--off")?setOn($switch):$switch.hasClass("switch--on")&&setOff($switch)}var language=YOI.locale(),localization={en:{labelOn:"On",labelOff:"Off"},de:{labelOn:"Ein",labelOff:"Aus"}},$labelOn=$('<span class="switch__labelOn"></span>'),$labelOff=$('<span class="switch__labelOff"></span>'),$knob=$('<span class="switch__knob"></span>');return{init:initialize,on:setOn,off:setOff,toggle:setToggle}}(),YOI.component.Table=function(){function initialize($table,options){var $table=YOI.createCollection("table",$table,options);$table&&$table.each(function(){if(YOI.isReady($(this)))return!1;var $thisTable=$(this),options=$thisTable.data().options;(options.selectable||"multi"===options.selectable)&&($thisTable.find("tr th:first-child").before("<th></th>"),$thisTable.find("tr td:first-child").before('<td class="table__checkbox"></td>'),$thisTable.find("td").on("click",function(e){e.preventDefault(),selectRow($(this).closest("tr"))})),options.removeable&&($thisTable.find("tr th:last-child").after("<th></th>"),$thisTable.find("tr td:last-child").after('<td class="table__removeBtn"></td>'),$thisTable.find(".table__removeBtn").on("click",function(e){e.preventDefault(),removeRow($(this).closest("tr"))})),YOI.setReady($(this))})}function selectRow($thisTr){var $thisTable=$thisTr.closest("table"),$thisAllTr=$thisTable.find("tr");"multi"===$thisTable.data().options.selectable?$thisTr.toggleClass("is--active"):($thisAllTr.removeClass("is--active"),$thisTr.addClass("is--active")),$thisTable.trigger("yoi-table-select")}function unselectRow($thisTr){var $thisTable=$thisTr.closest("table");$thisTable.find("tr").removeClass("is--active"),$thisTable.trigger("yoi-table-unselect")}function removeRow($thisTr){var $thisTable=$thisTr.closest("table"),totalTds=$thisTable.find("td").length,tableIsEmpty=totalTds-$thisTr.find("td").length==0;$thisTr.fadeOut("slow",function(){$thisTr.remove(),tableIsEmpty&&$thisTable.trigger("yoi-table-empty")}),$thisTable.trigger("yoi-table-remove")}return{init:initialize,select:selectRow,unselect:unselectRow,remove:removeRow}}(),YOI.component.Tabs=function(){function initialize($tabsMenu,options){var $tabsMenu=YOI.createCollection("tabs",$tabsMenu,options);$tabsMenu&&$tabsMenu.each(function(){if(YOI.isReady($(this)))return!1;var $thisTabsMenu=$(this),urlTabId=window.location.hash,firstTabId=$thisTabsMenu.find("a").first()[0].hash,hashMatchesTab=$thisTabsMenu.find('a[href="'+urlTabId+'"]').length,hasActiveTab=$thisTabsMenu.has(".tabs__item.is--active").length,startTabId=hashMatchesTab?urlTabId:firstTabId;hasActiveTab&&!hashMatchesTab&&(startTabId=$thisTabsMenu.find(".tabs__item.is--active a").first()[0].hash),switchTo(startTabId),$thisTabsMenu.find("a").on("click",function(e){e.preventDefault(),switchTo(this.hash)}),YOI.setReady($(this))})}function switchTo(thisTargetTabId){var $thisTabsMenuItem=$('a[href="'+thisTargetTabId+'"]').parent("li"),$thisTabsMenu=$thisTabsMenuItem.closest(".tabs__menu"),$thisTabsMenuItems=$thisTabsMenu.find("li"),$thisTargetTab=$(thisTargetTabId);$thisTabsMenuItems.each(function(){var $thisMenuItem=$(this),tabId=$thisMenuItem.find("a")[0].hash;$thisMenuItem.removeClass("is--active"),$(tabId).hide()}),$thisTabsMenuItem.addClass("is--active"),$thisTargetTab.show(),$thisTabsMenu.trigger("yoi-tabs-change")}return{init:initialize,switchTo:switchTo}}(),YOI.component.ToggleGroup=function(){function initialize($toggleGroup,options){var $toggleGroup=YOI.createCollection("toggle",$toggleGroup,options);$toggleGroup&&$toggleGroup.each(function(index){if(YOI.isReady($(this)))return!1;var $thisTrigger=$(this),options=$thisTrigger.data().options,target=options.target,group=options.group,event=void 0!==options.event?options.event:"mouseover",activeClassName=options.activeClassName,$thisFallBackElem=$('[yoi-toggle-fallback="'+group+'"]');$(target).addClass("toggleTargetGroup-"+group),$thisTrigger.addClass("toggleTriggerGroup-"+group),$thisTrigger.on(event,function(e){e.preventDefault(),toggle($thisTrigger)}),$thisFallBackElem.length>0&&"mouseover"===event?($(target).hide(),$thisTrigger.on("mouseenter",function(){YOI.clearDelay("resetToggleTimeout")}).on("mouseleave",function(){YOI.setDelay("resetToggleTimeout",resetToggleDelayTime,function(){reset($thisTrigger)})})):toggleTargetGroupIteration!==group?(toggleTargetGroupIteration=group,void 0!==activeClassName&&$thisTrigger.addClass(activeClassName)):$(target).hide(),YOI.setReady($(this))})}function toggle($thisTrigger){var options=$thisTrigger.data().options,target=options.target,group=options.group,activeClassName=options.activeClassName,$thisFallBackElem=$('[yoi-toggle-fallback="'+group+'"]');$(".toggleTargetGroup-"+group).hide(),$(target).show(),void 0!==activeClassName&&($(".toggleTriggerGroup-"+group).removeClass(activeClassName),$thisTrigger.addClass(activeClassName)),void 0!==$thisFallBackElem&&$thisFallBackElem.hide(),$thisTrigger.trigger("yoi-togglegroup-change")}function reset($thisTrigger){var options=$thisTrigger.data().options,group=options.group,activeClassName=options.activeClassName,$thisFallBackElem=$('[yoi-toggle-fallback="'+group+'"]');void 0!==activeClassName&&$(".toggleTriggerGroup-"+group).removeClass(activeClassName),$(".toggleTargetGroup-"+group).hide(),$thisFallBackElem.length>0&&$thisFallBackElem.fadeIn(),$thisTrigger.trigger("yoi-togglegroup-reset")}var toggleTargetGroupIteration,resetToggleDelayTime=300;return{init:initialize,reset:reset}}(),YOI.component.Tooltip=function(){function initialize($tooltipTrigger,options){var $tooltipTrigger=YOI.createCollection("tooltip",$tooltipTrigger,options);$tooltipTrigger&&$tooltipTrigger.each(function(){if(YOI.isReady($(this)))return!1;var $thisTooltipTrigger=$(this),options=$thisTooltipTrigger.data().options,staticPosition=options.staticPosition||!1,hasStaticPosition="top"===staticPosition||"right"===staticPosition||"bottom"===staticPosition||"left"===staticPosition,$thisTooltip=prepareTooltip($(options.target));$thisTooltipTrigger.on("mouseenter",function(e){hasStaticPosition?setStaticPosition($thisTooltipTrigger,$thisTooltip):setPosition($thisTooltip,e),hideAll(),hideWithDelay($thisTooltipTrigger,$thisTooltip,"stop"),showWithDelay($thisTooltipTrigger,$thisTooltip,"start")}),$thisTooltipTrigger.on("mouseleave",function(){hideWithDelay($thisTooltipTrigger,$thisTooltip,"start"),showWithDelay($thisTooltipTrigger,$thisTooltip,"stop")}),!1===staticPosition&&$thisTooltipTrigger.on("mousemove",function(e){setPosition($thisTooltip,e)}),YOI.setReady($(this))})}function hideAll(scope){void 0===scope?scope="":scope+=" ",$(scope+".tooltip").hide()}function createAndShowTooltip(id,xPos,yPos,content,fadeDuration){if(!(id&&xPos&&yPos&&content))return!1;if($("#"+id).length&&$("#"+id).is(".toolTip"))return!1;var fadeDuration=fadeDuration||defaultFadeDuration;$('<div id="'+id+'" class="tooltip">'+content+"</div>").appendTo($(document.body)).hide();var $thisTooltip=$("#"+id);$thisTooltip.css({position:"absolute",left:xPos,top:yPos}).fadeIn(fadeDuration).promise().then(function(){$thisTooltip.trigger("yoi-tooltip-show")})}function prepareTooltip($thisTargetElement,tooltipType){var targetId=$thisTargetElement.attr("id");return $("#"+targetId+".tooltip").length||($thisTargetElement.detach(),$('<div id="'+targetId+'" class="tooltip">'+$thisTargetElement.html()+"</div>").appendTo($(document.body)).hide()),$("#"+targetId)}function setPosition($thisTooltip,e){var cursorY=e.pageY,cursorX=e.pageX,tooltipWidth=$thisTooltip.width(),tooltipHeight=$thisTooltip.height(),viewPortWidth=$(window).width(),viewPortHeight=$(window).height(),scrollTop=$(window).scrollTop(),tooltipLeft=cursorX+tooltipWidth>viewPortWidth?cursorX-tooltipWidth-20+"px":cursorX+"px",tooltipTop=cursorY+tooltipHeight+60>scrollTop+viewPortHeight?cursorY-tooltipHeight-40+"px":cursorY+20+"px";$thisTooltip.css({position:"absolute",left:tooltipLeft,top:tooltipTop})}function setStaticPosition($thisTooltipTrigger,$thisTooltip){var tooltipLeft,tooltipTop,options=$thisTooltipTrigger.data().options,position=options.staticPosition;switch(position){case"top":tooltipLeft=$thisTooltipTrigger.offset().left+$thisTooltipTrigger.outerWidth()/2-$thisTooltip.outerWidth()/2,tooltipTop=$thisTooltipTrigger.offset().top-$thisTooltip.outerHeight()-15;break;case"right":tooltipLeft=$thisTooltipTrigger.offset().left+$thisTooltipTrigger.outerWidth()+15,tooltipTop=$thisTooltipTrigger.offset().top+$thisTooltipTrigger.outerHeight()/2-$thisTooltip.outerHeight()/2;break;case"bottom":tooltipLeft=$thisTooltipTrigger.offset().left+$thisTooltipTrigger.outerWidth()/2-$thisTooltip.outerWidth()/2,tooltipTop=$thisTooltipTrigger.offset().top+$thisTooltipTrigger.outerHeight()+15;break;case"left":tooltipLeft=$thisTooltipTrigger.offset().left-$thisTooltip.outerWidth()-15,tooltipTop=$thisTooltipTrigger.offset().top+$thisTooltipTrigger.outerHeight()/2-$thisTooltip.outerHeight()/2}$thisTooltip.attr("class","tooltip tooltip--"+position).css({position:"absolute",left:tooltipLeft,top:tooltipTop})}function showWithDelay($thisTooltipTrigger,$thisTooltip,action){var options=$thisTooltipTrigger.data().options,showDelayDuration=options.showDelay||defaultShowDelay;"start"===action?YOI.setDelay("tooltipShowDelay",showDelayDuration,function(){$thisTooltip.fadeIn(defaultFadeDuration).promise().then(function(){$thisTooltip.trigger("yoi-tooltip-show")})}):"stop"===action&&YOI.clearDelay("tooltipShowDelay")}function hideWithDelay($thisTooltipTrigger,$thisTooltip,action){var options=$thisTooltipTrigger.data().options,hideDelayDuration=options.hideDelay||defaultHideDelay;"start"===action?YOI.setDelay("tooltipHideDelay",hideDelayDuration,function(){$(".tooltip").hide(),$thisTooltip.trigger("yoi-tooltip-hide")}):"stop"===action&&YOI.clearDelay("tooltipHideDelay")}var defaultFadeDuration=200,defaultShowDelay=300,defaultHideDelay=200;return{init:initialize,create:createAndShowTooltip,show:showWithDelay,hide:hideWithDelay,hideAll:hideAll}}();