{# register all macros #}

{# set the path to source files #}

{% if basePath == '/' %}
    {% set pathToSourceFile = "" %}
{% else %}
    {% set pathToSourceFile = "https://github.com/yoshino-digital/ui-core/blob/master/src/" %}
{% endif %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>YOI â€“ Yoshino UI Core | Documentation</title>
        <base href="{{ basePath }}">
        <link href="assets/css/yoshino-ui-core.css" rel="stylesheet" />
        <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
        {% block customStyles %}{% endblock %}
    </head>
    <body class="noJs" yoi-environment="desktop">
        <script>document.body.className='js';</script>
        <div class="documentation">
            <div class="center grid-flex flex-directionRowReverse">
                <div class="documentation__menu w-1-4 p-l-5 p-t-4">
                    {#
                        The following menus are automatically generated via a custom nunjucks
                        extention, to be found in src/dev/nunjucks-extentions.js
                    #}
                    <div class="accordion" yoi-accordion="">
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Introduction</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/introduction/',
                                    src: './src/templates/pages/introduction',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Core</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/core/',
                                    src: './src/templates/pages/core',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Theme</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/theme/',
                                    src: './src/templates/pages/theme',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Utilities</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/utilities/',
                                    src: './src/templates/pages/utilities',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Elements</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/elements/',
                                    src: './src/templates/pages/elements',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>JS Interface</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/js-interface/',
                                    src: './src/templates/pages/js-interface',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Tools</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/tools/',
                                    src: './src/templates/pages/tools',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                        <div class="accordion__section">
                            <div class="accordion__header">
                                <h4>Workflows / Tutorials</h4>
                            </div>
                            <div class="accordion__body">
                                {% menu {
                                    path: 'pages/workflows/',
                                    src: './src/templates/pages/workflows',
                                    modifiers: 'b-0 br-0 bg-transparent'
                                } %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="article documentation__article w-3-4 p-r-8">
                    {% block main %}{% endblock %}
                </div>
                <footer class="documentation__footer">
                    &copy; Yoshino.digital GmbH
                </footer>
                <div class="console" yoi-console yoi-dismissable>
                    <div class="console__body">
                        <p>Listening</p>
                    </div>
                </div>
            </div>
        </div>
        <script src="assets/js/libs/jquery.js"></script>
        <script src="assets/js/libs/beautify.js"></script>
        <script src="assets/js/libs/prism.js" yoi-manual></script>
        <script src="assets/js/yoshino-ui-core.js"></script>
        <script>
            (function() {

                /**
                 *  Hightlight the current menu item and expand the
                 *  parent accordion section.
                 */

                var $menu           = $('.documentation__menu').first();
                var $menuLinks      = $menu.find('.linkList__link');
                var currentPagePath = window.location.pathname;

                $menuLinks.each(function() {

                    var $this    = $(this);
                    var thisHref = $this.attr('href').slice(1);

                    if (YOI.stringContains(currentPagePath, thisHref)) {
                        $this.parent().addClass('is--active');
                        YOI.Accordion.toggle($this.closest('.accordion__section'));
                    }

                });

            })();
        </script>
        {% block customScripts %}{% endblock %}
    </body>
</html>
