/** buttondismiss.less */

// block
// =====

.buttonDismiss {

    .mixin-clearAppearance;
    .mixin-defaultBorderRadius;
    .mixin-icon-bg(@id: 'icon-006-s', @fillColor: @color-base-8, @width: 32, @height: 32);
    border: 0;
    cursor: pointer;
    display: inline-block;
    font-size: 0;
    height: 2rem;
    overflow: hidden;
    position: absolute;
    right: 0;
    text-color: transparent;
    top: 0;
    width: 2rem;

    &:hover {
        background-color: fade(@color-base-22, 50%);
    }

}

// modifiers
// =========

// colors

/*
    Any .buttonDismiss inside a parent element with a certain color modifier "inherit" the colors of their parent.
    However, the color modifier class names applied directly to .buttonDismiss (eg. buttonDismiss buttonDismiss--negative)
    beat the inheritance. In order to up the specificity, we repeat the modifier class name. It's actually
    not even a hack:

    "Repeated occurrances of the same simple selector are allowed and do increase specificity."
    https://www.w3.org/TR/css3-selectors/#specificity
*/

.buttonDismiss.buttonDismiss--negative.buttonDismiss--negative,
[class*="-negative"] .buttonDismiss {
    .constr-buttonDismiss(
        @iconColor: @color-negative-10,
        @bgColorHover: @color-negative-21
    );
}

.buttonDismiss.buttonDismiss--positive.buttonDismiss--positive,
[class*="-positive"] .buttonDismiss {
    .constr-buttonDismiss(
        @iconColor: @color-positive-10,
        @bgColorHover: @color-positive-21
    );
}

.buttonDismiss.buttonDismiss--attention.buttonDismiss--attention,
[class*="-attention"] .buttonDismiss {
    .constr-buttonDismiss(
        @iconColor: @color-attention-10,
        @bgColorHover: @color-attention-20
    );
}

.buttonDismiss.buttonDismiss--dark.buttonDismiss--dark,
[class*="-dark"] .buttonDismiss {
    .constr-buttonDismiss(
        @iconColor: @color-base-24,
        @bgColorHover: @color-base-7
    );
}

// constructor
// ===========

.constr-buttonDismiss(@iconColor, @bgColorHover) {

    .mixin-icon-bg(
        @id: 'icon-006-s',
        @fillColor:
        @iconColor,
        @width: 32,
        @height: 32
    );

    &:hover {
        background-color: fade(@bgColorHover, 50%);
    }

}
